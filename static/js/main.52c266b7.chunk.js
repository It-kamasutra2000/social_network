(this["webpackJsonpproject-3"]=this["webpackJsonpproject-3"]||[]).push([[0],{109:function(e,t,n){e.exports={header:"Header_header__3oEm5",headerContent:"Header_headerContent__3cVMj",headerContentLeft:"Header_headerContentLeft__1kmPt",logo:"Header_logo__1iYvb",headerContentRight:"Header_headerContentRight__3Tyn3"}},110:function(e,t,n){e.exports={friend:"Friend_friend__3rcLc",imgAndName:"Friend_imgAndName__29T5Z",nameLink:"Friend_nameLink__a9yL5",showMore:"Friend_showMore__1Sr6n"}},125:function(e,t,n){e.exports={usersPage:"UsersPage_usersPage__1sRyt",userPageTopBlock:"UsersPage_userPageTopBlock__3Bci2",usersHeader:"UsersPage_usersHeader__1u2Vr",notFound:"UsersPage_notFound__5YT83"}},126:function(e,t,n){e.exports={contacts:"UserContacts_contacts__1UZql",contactsTitle:"UserContacts_contactsTitle__1kr9E",contactsValues:"UserContacts_contactsValues__3wubr",noContacts:"UserContacts_noContacts__1gMHL"}},127:function(e,t,n){e.exports={form:"LoginForm_form__2eYfX",captcha:"LoginForm_captcha__35FDF",captchaImg:"LoginForm_captchaImg__214o4"}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(98),a=n(1),c=n(266),s=n(196),o=n.n(s),i=n(2),u=function(e,t,n){var s=Object(a.useState)(!1),u=Object(r.a)(s,2),l=u[0],d=u[1],j="Friend"!==n,f=e,b="",p=null===e||void 0===e?void 0:e.length,m=p&&p>t;m&&(b=e.slice(0,t));var O=Object(i.jsx)(c.a,{className:o.a.menu,children:Object(i.jsx)(c.a.Item,{className:o.a.showMoreText,onClick:function(){j&&d(!0)},children:Object(i.jsx)("span",{children:j?"show more":f})})});return{fullText:f,isTextBig:m,showFullText:l,setShowFullText:d,menu:O,shortText:b}}},167:function(e,t,n){e.exports={form:"FilterForm_form__3cdQq",select:"FilterForm_select__1g4_-",SendButton:"FilterForm_SendButton__33gxr"}},168:function(e,t,n){e.exports={profilePage:"ProfilePage_profilePage__3cw9o",mainImg:"ProfilePage_mainImg__3K70k"}},169:function(e,t,n){e.exports={userPhoto:"UserPhoto_userPhoto__LI0GT",selectPhoto:"UserPhoto_selectPhoto__2V73w",label:"UserPhoto_label__cM1aj"}},170:function(e,t,n){e.exports={SidBaFriends:"Friends_SidBaFriends__2VO4V",friends:"Friends_friends__2CVfr"}},172:function(e,t,n){},191:function(e,t,n){e.exports={page:"Page_page__3wQj-",active:"Page_active__biFyX"}},195:function(e,t,n){e.exports={preloader:"Preloader_preloader__vZgi5",profilePre:"Preloader_profilePre__Xazmf",statusPre:"Preloader_statusPre__2Ed3w",photosPre:"Preloader_photosPre__1Q_Cs",usersPre:"Preloader_usersPre__14nWV",updProfPre:"Preloader_updProfPre__1slyY",appPre:"Preloader_appPre__7OWEe"}},196:function(e,t,n){e.exports={menu:"useShowMore_menu__1Ia2o",showMoreText:"useShowMore_showMoreText__ZZx--"}},197:function(e,t,n){e.exports={contact:"UserContact_contact__3qAUb",icon:"UserContact_icon__3LE9C"}},198:function(e,t,n){e.exports={loginHeader:"LoginPage_loginHeader__36LCV"}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return U})),n.d(t,"b",(function(){return k}));var r=n(10),a=n.n(r),c=n(23),s=n(78),o=n(9),i=n(91),u=null,l={message:[],open:[]},d=function(e){l.message.forEach((function(t){return t(JSON.parse(e.data))}))},j=function(){console.log("error")},f=function(){setTimeout((function(){m(),console.log("reconnecting"),l.open.forEach((function(e){return e("close")}))}),3e3)},b=function(){l.open.forEach((function(e){return e("open")}))},p=function(){var e,t,n,r,a;null===(e=u)||void 0===e||e.close(),null===(t=u)||void 0===t||t.removeEventListener("message",d),null===(n=u)||void 0===n||n.removeEventListener("close",f),null===(r=u)||void 0===r||r.removeEventListener("open",b),null===(a=u)||void 0===a||a.removeEventListener("error",j)},m=function(){p(),(u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("message",d),u.addEventListener("close",f),u.addEventListener("open",b),u.addEventListener("error",j)},O=function(){m()},h=function(e,t){l=Object(o.a)(Object(o.a)({},l),{},Object(i.a)({},e,[].concat(Object(s.a)(l[e]),[t])))},v=function(e,t){l=Object(o.a)(Object(o.a)({},l),{},Object(i.a)({},e,l[e].filter((function(e){return e!==t}))))},_=function(e){var t;null===(t=u)||void 0===t||t.send(e)},x=function(){p(),l=Object(o.a)(Object(o.a)({},l),{},{message:[]}),l=Object(o.a)(Object(o.a)({},l),{},{open:[]})},g=n(463),N={messages:[],wsStatus:"open"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CR/MESSAGES_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.messages.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(g.a)()})})))).filter((function(e,t,n){return t>=n.length-50}))});case"CR/CLEAN_MESSAGES":case"CR/WS_STATUS_CHANGED":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},S=function(e){return{type:"CR/MESSAGES_RECEIVED",payload:{messages:e}}},y=function(e){return{type:"CR/WS_STATUS_CHANGED",payload:{wsStatus:e}}},w=function(){return{type:"CR/CLEAN_MESSAGES",payload:{messages:[]}}},P=null,I=function(e){return P||(P=function(t){e(S(t))}),P},C=null,F=function(e){return C||(C=function(t){e(y(t))}),C},T=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(),h("message",I(t)),h("open",F(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),v("message",I(t)),v("open",F(t)),t(w());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(e);case 1:case"end":return t.stop()}}),t)})))}},244:function(e,t,n){e.exports={pages:"Pages_pages__2_8Fx","ant-menu-submenu-title":"Pages_ant-menu-submenu-title__2FIm8"}},247:function(e,t,n){e.exports={avatar:"UserAvatar_avatar__ibIyS",img:"UserAvatar_img__1uriq"}},249:function(e,t,n){e.exports={main:"Main_main__pOQy5"}},250:function(e,t,n){e.exports={paginator:"Paginator_paginator__h4jVX"}},254:function(e,t,n){e.exports={aboutUser:"UserInfo_aboutUser__35ua9"}},257:function(e,t,n){e.exports={userPhoto:"SidebarUserPhoto_userPhoto__2ClUV"}},258:function(e,t,n){e.exports={notFound:"NotFound_notFound__f8O5n"}},259:function(e,t,n){e.exports={footer:"Footer_footer__bQfBH"}},272:function(e,t,n){},45:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=function(e){return e.auth.id},a=function(e){return e.auth.isAuth},c=function(e){return e.auth.authUserProfile},s=function(e){return e.auth.captchaUrl},o=function(e){return e.auth.errorMessage}},454:function(e,t,n){"use strict";n.r(t);var r,a,c=n(1),s=n.n(c),o=n(32),i=n.n(o),u=(n(272),n(273),n(172),n(121)),l=n(109),d=n.n(l),j=n(464),f=n(465),b=n(35),p=n(191),m=n.n(p),O=n(2),h=s.a.memo((function(e){var t=e.Icon,n=e.path,r=e.pageName;return Object(O.jsx)("div",{className:m.a.page,children:Object(O.jsxs)(b.b,{activeClassName:m.a.active,to:"/".concat(n),children:[Object(O.jsx)(t,{}),Object(O.jsxs)("span",{children:[r," "]})]})})})),v=n(244),_=n.n(v),x=s.a.memo((function(){return Object(O.jsxs)("div",{"data-testid":"pages_wrapper",className:_.a.pages,children:[Object(O.jsx)("div",{"data-testid":"page_component_wrapper",children:Object(O.jsx)(h,{Icon:j.a,path:"profile",pageName:"profile"},"page1")}),Object(O.jsx)("div",{"data-testid":"page_component_wrapper",children:Object(O.jsx)(h,{Icon:f.a,path:"users",pageName:"users"},"page2")})]})})),g=n(263),N=n(266),E=n(67),S=n(462),y=n(466),w=n(14),P=n(45),I=n(10),C=n.n(I),F=n(23),T=n(9),U=n(245),k=n.n(U).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"bb181220-b3ed-4219-9d9b-5805e04d81d5"}});!function(e){e[e.success=0]="success",e[e.error=1]="error"}(r||(r={})),function(e){e[e.captcha=10]="captcha"}(a||(a={}));var R={authMe:function(){var e=Object(F.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(F.a)(C.a.mark((function e(t,n,r){var a,c,s=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:"",e.next=3,k.post("auth/login",{email:t,password:n,rememberMe:r,captcha:a});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),logout:function(){var e=Object(F.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},A={getUser:function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("profile/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("profile/status/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateStatus:function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("profile/status",{status:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUserPhoto:function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,k.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProfile:function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("profile",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D={getCaptchaUrl:function(){var e=Object(F.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},L={isAuth:!1,id:null,email:null,login:null,authUserProfile:null,captchaUrl:null,errorMessage:null},M=function(e,t,n,r){return{type:"AU/AUTH_VERIFIED",payload:{email:t,login:n,id:e,isAuth:r}}},H=function(e){return{type:"AU/AUTH_USER_RECEIVED",payload:{authUserProfile:e}}},B=function(e){return{type:"AU/CAPTCHA_URL_IS_RECEIVED",payload:{captchaUrl:e}}},V=function(e){return{type:"AU/AN_ERROR_HAS_OCCURRED",payload:{errorMessage:e}}},J=function(){return function(){var e=Object(F.a)(C.a.mark((function e(t){var n,a,c,s,o,i,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.authMe();case 3:(n=e.sent).resultCode===r.success&&(a=n.data,c=a.id,s=a.login,o=a.email,t(M(c,s,o,!0))),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),i=JSON.stringify(e.t0.message),u=i.slice(1,i.length-1),g.b.error(u);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},G=function(){return function(){var e=Object(F.a)(C.a.mark((function e(t,n){var r,a,c,s,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),!(a=r.auth.id)){e.next=8;break}return e.next=6,A.getUser(a);case 6:c=e.sent,t(H(c));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),s=JSON.stringify(e.t0.message),o=s.slice(1,s.length-1),g.b.error(o);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},z=function(){return function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getCaptchaUrl();case 3:n=e.sent,t(B(n.url)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=JSON.stringify(e.t0.message),a=r.slice(1,r.length-1),g.b.error(a);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},W=n(247),Z=n.n(W),Q=s.a.memo((function(){var e=Object(w.c)(P.a),t=null===e||void 0===e?void 0:e.fullName,n=Object(w.c)(P.d),a=Object(w.b)();var c=Object(O.jsxs)(N.a,{role:"menu",children:[Object(O.jsx)(N.a.Item,{role:"menu-item1",children:Object(O.jsx)(E.a,{danger:!0,block:!0,onClick:function(){a(function(){var e=Object(F.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.logout();case 3:e.sent.resultCode===r.success&&t(M(null,null,null,!1)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=JSON.stringify(e.t0.message),a=n.slice(1,n.length-1),g.b.error(a);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},children:"logout"})},"1"),Object(O.jsx)(N.a.Item,{role:"menu-item2",onClick:function(){g.b.info("Click on menu item.")},icon:Object(O.jsx)(y.a,{}),children:"2nd menu item"},"2")]});return Object(O.jsx)("div",{"data-testid":"avatar_wrapper",className:Z.a.avatar,children:n?Object(O.jsx)(S.a.Button,{"data-testid":"dropdown_button",overlay:c,children:Object(O.jsx)(b.b,{role:"user_avatar_link1",to:"/profile",children:Object(O.jsxs)("div",{children:[" ",t]})})}):Object(O.jsx)("div",{"data-testid":"login_button_wrapper",children:Object(O.jsx)(E.a,{"data-testid":"login_button",children:Object(O.jsx)(b.b,{role:"user_avatar_link2",to:"./login",children:"login"})})})})})),Y=s.a.memo((function(){return Object(O.jsx)("div",{"data-testid":"header_wrapper",className:d.a.header,children:Object(O.jsxs)("div",{"data-testid":"header_content",className:d.a.headerContent,children:[Object(O.jsx)("div",{"data-testid":"header_content_left",className:d.a.headerContentLeft,children:Object(O.jsxs)("div",{className:d.a.logo,children:[Object(O.jsx)(u.b,{}),Object(O.jsx)("span",{children:"SOCIAL NETWORK"})]})}),Object(O.jsxs)("div",{"data-testid":"header_content_right",className:d.a.headerContentRight,children:[Object(O.jsx)("div",{children:Object(O.jsx)(x,{})}),Object(O.jsx)("div",{children:Object(O.jsx)(Q,{})})]})]})})})),q=n(29),X=n(249),K=n.n(X),$=n(194),ee=n.n($),te=function(e){return e.users.users},ne=function(e){return e.users.isFetching},re=function(e){return e.users.totalUsersCount},ae=function(e){return e.users.pageNumber},ce=function(e){return e.users.pageSize},se=function(e){return e.users.filter},oe=function(e){return e.users.followInProgress},ie=n(78),ue={getUsers:function(){var e=Object(F.a)(C.a.mark((function e(t,n,r){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("users?count=".concat(n,"\n        &page=").concat(t,"&term=").concat(r.term,"&friend=").concat(r.friend));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),follow:function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unFollow:function(){var e=Object(F.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le={users:[],isFetching:!1,followInProgress:[],totalUsersCount:0,pageNumber:1,pageSize:10,filter:{term:"",friend:null}},de=function(e){return{type:"UR/USERS_RECEIVED",payload:{users:e}}},je=function(e){return{type:"UR/SET_IS_FETCHING",payload:{isFetching:e}}},fe=function(e){return{type:"UR/FOLLOW_IS_FINISHED",payload:{userId:e}}},be=function(e){return{type:"UR/UNFOLLOW_IS_FINISHED",payload:{userId:e}}},pe=function(e){return{type:"UR/TOTAL_COUNT_IS_RECEIVED",payload:{totalUsersCount:e}}},me=function(e){return{type:"UR/SET_PAGE_NUMBER",payload:{pageNumber:e}}},Oe=function(e){return{type:"UR/SET_FILTER_DATA",payload:{filter:e}}},he=function(e,t){return{type:"UR/SET_FOLLOWING_PROGRESS",payload:{id:e,isFollowInProgress:t}}},ve=function(e,t,n){return function(){var r=Object(F.a)(C.a.mark((function r(a){var c,s,o;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(Oe(n)),a(je(!0)),a(me(e)),r.next=6,ue.getUsers(e,t,n);case 6:c=r.sent,a(je(!1)),a(de(c.items)),a(pe(c.totalCount)),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(0),s=JSON.stringify(r.t0.message),o=s.slice(1,s.length-1),g.b.error(o);case 17:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()},_e=function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.follow(e);case 3:t.sent.resultCode===r.success&&(n(fe(e)),n(he(e,!1))),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},xe=function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var a,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.unFollow(e);case 3:return(a=t.sent).resultCode===r.success&&(n(be(e)),n(he(e,!1))),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),c=JSON.stringify(t.t0.message),s=c.slice(1,c.length-1),g.b.error(s);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ge=n(459),Ne=n(250),Ee=n.n(Ne),Se=s.a.memo((function(e){var t=e.totalItemsCount,n=e.pageSize,r=void 0===n?10:n,a=e.onPageChangeHandler,c=e.pageNumber,s=t/r;return Object(O.jsx)("div",{className:Ee.a.paginator,children:Object(O.jsx)(ge.a,{defaultCurrent:c,size:"small",current:c,total:10*s,onChange:function(e){a(e)}})})})),ye=n(458),we=n.p+"static/media/loading.e94beeb6.gif",Pe=n(195),Ie=n.n(Pe),Ce=s.a.memo((function(e){var t=e.styles;return Object(O.jsx)("div",{className:Ie.a.preloader+" "+Ie.a[t],children:Object(O.jsx)(ye.a,{src:we})})})),Fe=n(123),Te=n(457),Ue=n(460),ke=n(26),Re=n(167),Ae=n.n(Re),De=n(55),Le=n(64),Me=n.n(Le),He=Fe.a.Option,Be=Te.a.Item,Ve=Object(De.b)(30),Je=s.a.memo((function(e){var t=e.onFilterHandler,n=Object(w.c)(se);return Object(O.jsx)(ke.d,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:function(e){},onSubmit:function(e,n){setTimeout((function(){var r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),n.setSubmitting(!1)}),400)},children:function(e){var t=e.isSubmitting,n=e.values,r=e.setFieldValue,a=e.errors;return Object(O.jsxs)(ke.c,{className:Ae.a.form,children:[Object(O.jsxs)(Be,{children:[Object(O.jsx)(ke.b,{name:"term",validate:Ve,render:function(e){var t=e.field;return Object(O.jsx)(Ue.a,Object(T.a)(Object(T.a)({},t),{},{placeholder:"userName",autoFocus:!0}))}}),Object(O.jsx)(ke.a,{name:"term",component:function(){return Object(O.jsx)("div",{className:Me.a.fieldError,children:a.term})}})]}),Object(O.jsx)(Be,{children:Object(O.jsx)(ke.b,{name:"friend",placeholder:"HELLO",render:function(e){var t=e.field;return Object(O.jsxs)(Fe.a,Object(T.a)(Object(T.a)({className:Ae.a.select},t),{},{onChange:function(e){return r("friend",e)},value:n.friend,children:[Object(O.jsx)(He,{value:"null",children:"all"}),Object(O.jsx)(He,{value:"true",children:"follow"}),Object(O.jsx)(He,{value:"false",children:"unFollow"})]}))}})}),Object(O.jsx)(E.a,{className:Ae.a.SendButton,type:"primary",htmlType:"submit",disabled:t,children:"find"})]})}})})),Ge=n(68),ze=n.n(Ge),We=n(82),Ze=s.a.memo((function(e){var t,n=e.id,r=e.userName,a=e.status,c=e.photos,s=e.followed,o=e.followingInProgress,i=e.history,u=e.isAuth,l=Object(w.b)(),d=function(e,t){return Object(O.jsx)("div",{className:ze.a.button+" "+ze.a[e],children:Object(O.jsx)(E.a,{disabled:o.some((function(e){return e===n})),onClick:function(){u?(l(t(n)),l(he(n,!0))):i.push("./login")},children:e})})};return t=s?d("unFollow",xe):d("follow",_e),Object(O.jsxs)("div",{className:ze.a.user,children:[Object(O.jsxs)("div",{className:ze.a.userInfo,children:[Object(O.jsxs)("div",{className:ze.a.rightBlock,children:[Object(O.jsx)("div",{className:ze.a.img,children:Object(O.jsx)(b.b,{to:"/profile/".concat(n),children:Object(O.jsx)("img",{src:c.large?c.large:We.a,alt:"userPhoto"})})}),t]}),Object(O.jsxs)("div",{className:ze.a.leftBlock,children:[Object(O.jsx)("div",{className:ze.a.userName,children:Object(O.jsx)(b.b,{to:"/profile/".concat(n),children:Object(O.jsxs)("span",{children:[" ",r]})})}),Object(O.jsxs)("div",{className:ze.a.status,children:["status: ",a||"...."]})]})]}),Object(O.jsx)("div",{className:ze.a.bottomLine})]})})),Qe=n(125),Ye=n.n(Qe),qe=s.a.memo((function(){var e=Object(w.b)(),t=Object(q.g)(),n=Object(w.c)(P.d),r=Object(w.c)(te),a=Object(w.c)(ne),s=Object(w.c)(re),o=Object(w.c)(ce),i=Object(w.c)(ae),u=Object(w.c)(se),l=Object(w.c)(oe);Object(c.useEffect)((function(){var n=ee.a.parse(t.location.search),r=i,a=u;n.page&&(r=Number(n.page)),n.term&&""!==n.term&&(a=Object(T.a)(Object(T.a)({},a),{},{term:n.term})),n.friend&&(a=Object(T.a)(Object(T.a)({},a),{},{friend:"true"===n.friend})),e(ve(r,o,a))}),[]),Object(c.useEffect)((function(){var e={};1!==i&&(e.page=String(i)),""!==u.term&&(e.term=u.term),null!==u.friend&&(e.friend=String(u.friend)),t.push({pathname:"/users",search:ee.a.stringify(e)})}),[u,i,t]);var d=r.map((function(e){return Object(O.jsx)(Ze,{isAuth:n,followingInProgress:l,id:e.id,userName:e.name,photos:e.photos,status:e.status,followed:e.followed,history:t},e.id)}));return Object(O.jsxs)("div",{className:Ye.a.usersPage,children:[Object(O.jsxs)("div",{className:Ye.a.userPageTopBlock,children:[Object(O.jsx)("div",{className:Ye.a.usersHeader,children:"Users"}),Object(O.jsx)("div",{children:a&&Object(O.jsx)(Ce,{styles:"usersPre"})})]}),Object(O.jsx)("div",{children:Object(O.jsx)(Je,{onFilterHandler:function(t){e(ve(1,o,t))}})}),Object(O.jsx)("div",{children:Object(O.jsx)(Se,{pageSize:o,pageNumber:i,onPageChangeHandler:function(t){e(ve(t,o,u))},totalItemsCount:s})}),0===d.length?Object(O.jsx)("div",{className:Ye.a.notFound,children:"not Found"}):d]})})),Xe=n(168),Ke=n.n(Xe),$e=n(98),et=n(254),tt=n.n(et),nt=n(69),rt=n(169),at=n.n(rt),ct=n(91),st=n(255),ot={profile:null,status:"",isFetching:!1,isLoading:!1,updateProfileStatus:null,icons:{facebook:nt.a,website:st.a,vk:u.a,github:nt.b,instagram:nt.c,twitter:nt.g,youtube:nt.d,mainLink:u.a}},it=function(e){return{type:"PR/PROFILE_RECEIVED",payload:e}},ut=function(e){return{type:"PR/STATUS_RECEIVED",payload:{status:e}}},lt=function(e){return{type:"PR/SET_IS_FETCHING",payload:{isFetching:e}}},dt=function(e){return{type:"PR/PHOTOS_RECEIVED",payload:{photos:e}}},jt=function(e){return{type:"PR/PHOTOS_IS_LOADED",payload:{isLoading:e}}},ft=function(e){return{type:"PR/SET_UPDATE_PROFILE_STATUS",payload:{updateProfileStatus:e}}},bt=function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var r,a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.getUser(e);case 3:r=t.sent,n(it(r)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},pt=function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var r,a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(lt(!0)),t.next=4,A.getStatus(e);case 4:r=t.sent,n(ut(r)),n(lt(!1)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},mt=function(e){return e.profile.profile},Ot=function(e){return e.profile.status},ht=function(e){return e.profile.isFetching},vt=function(e){return e.profile.isLoading},_t=function(e){return e.profile.updateProfileStatus},xt=function(e){return e.profile.icons},gt=s.a.memo((function(e){var t=e.img,n=e.isOwner,a=Object(w.b)(),c=Object(w.c)(vt);return Object(O.jsxs)("div",{className:at.a.userPhoto,children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:t||We.a,alt:"userPhoto"})}),n&&Object(O.jsx)("div",{className:at.a.selectPhoto,children:Object(O.jsx)("label",{className:at.a.label,htmlFor:"file",children:Object(O.jsx)(nt.f,{})})}),Object(O.jsx)(Ue.a,{hidden:!0,type:"file",id:"file",onChange:function(e){var t,n=(null===(t=e.currentTarget.files)||void 0===t?void 0:t.length)&&e.currentTarget.files[0];a(function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var a,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(jt(!0)),t.next=4,A.updateUserPhoto(e);case 4:(a=t.sent).resultCode===r.success&&(n(dt(a.data.photos)),n(G())),n(jt(!1)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),c=JSON.stringify(t.t0.message),s=c.slice(1,c.length-1),g.b.error(s);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(n))}}),c&&Object(O.jsx)(Ce,{styles:"photosPre"})]})})),Nt=n(80),Et=n.n(Nt),St=n(81),yt=n.n(St),wt=Te.a.Item,Pt=Object(De.b)(30),It=s.a.memo((function(e){var t=e.deActivateEditMode,n=Object(w.c)(Ot);return Object(O.jsx)(ke.d,{initialValues:{statusText:n},validate:function(e){},onSubmit:function(e,t){setTimeout((function(){t.setSubmitting(!1)}),400)},children:function(e){var n=e.values,r=e.errors;return Object(O.jsx)(ke.c,{onBlur:function(){n.statusText.length>30||t(n.statusText)},children:Object(O.jsxs)(wt,{children:[Object(O.jsx)(ke.b,{name:"statusText",validate:Pt,render:function(e){var t=e.field;return Object(O.jsx)(Ue.a,Object(T.a)(Object(T.a)({},t),{},{placeholder:"status",autoFocus:!0}))}}),Object(O.jsx)(ke.a,{name:"statusText",component:function(){return Object(O.jsxs)("div",{className:Me.a.fieldError,children:[" ",r.statusText," "]})}})]})})}})})),Ct=n(139),Ft=s.a.memo((function(e){var t=e.isOwner,n=Object(w.c)(ht),a=Object(w.c)(Ot),s=Object(w.b)(),o=Object(c.useState)(!1),i=Object($e.a)(o,2),u=i[0],l=i[1],d=Object(Ct.a)(a,20,"Status"),j=d.fullText,f=d.menu,b=d.showFullText,p=d.isTextBig,m=d.setShowFullText,h=d.shortText,v=p?Object(O.jsx)(S.a,{overlay:f,placement:"topCenter",children:Object(O.jsx)("div",{className:yt.a.showMore,onClick:function(){m(!0)},children:"..."})}):null,_=a;_=p?h:_?j:"no status",j=j||"no status";var x=Object(O.jsx)(N.a,{className:yt.a.menu,children:Object(O.jsx)(N.a.Item,{className:yt.a.showInfoMenu,children:Object(O.jsx)("div",{children:"doubleClick"})})});return Object(O.jsxs)(O.Fragment,{children:[!u&&Object(O.jsxs)("div",{className:"".concat(yt.a.status," ").concat(t?yt.a.cursor:""),onDoubleClick:function(){t&&l(!0)},children:[t?Object(O.jsx)(S.a,{overlay:x,placement:"topCenter",children:Object(O.jsx)("div",{className:yt.a.statusTitle,children:"status:"})}):Object(O.jsx)("div",{className:yt.a.statusTitle,children:"status:"}),Object(O.jsx)("div",{className:yt.a.statusText,children:b?j:_}),Object(O.jsx)("div",{children:b||v})]}),u&&Object(O.jsx)("div",{children:Object(O.jsx)(It,{deActivateEditMode:function(e){l(!1),s(function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(lt(!0)),t.next=4,A.updateStatus(e);case 4:t.sent.resultCode===r.success&&n(ut(e)),n(lt(!1)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))}})}),n&&Object(O.jsx)("div",{children:Object(O.jsx)(Ce,{styles:"statusPre"})})]})})),Tt=n(197),Ut=n.n(Tt),kt=s.a.memo((function(e){var t=e.contactsTitle,n=e.contactsValue,r=e.Icon;return Object(O.jsx)("div",{children:n?Object(O.jsxs)("div",{className:Ut.a.contact,children:[Object(O.jsxs)("span",{children:[t,":"]}),Object(O.jsxs)("a",{href:n,children:[" ",Object(O.jsx)(r,{className:Ut.a.icon})]})]}):null})})),Rt=n(126),At=n.n(Rt),Dt=s.a.memo((function(e){for(var t=e.profile,n=Object(w.c)(xt),r=Object.keys(null===t||void 0===t?void 0:t.contacts).map((function(e){return Object(O.jsx)(kt,{contactsTitle:e,Icon:n[e],contactsValue:null===t||void 0===t?void 0:t.contacts[e]},e)})),a=[],c=Object.values(t.contacts),s=0;s<c.length;s++)null!==c[s]&&a.push(s);return Object(O.jsxs)("div",{className:At.a.contacts,children:[Object(O.jsx)("div",{className:At.a.contactsTitle,children:"contacts"}),Object(O.jsx)("div",{className:At.a.contactsValues,children:a.length?r:Object(O.jsx)("div",{className:At.a.noContacts,children:"no contacts"})})]})})),Lt=s.a.memo((function(e){var t=e.activateEditMode,n=Object(w.c)(mt),r=Object(q.h)().userId;return Object(O.jsxs)("div",{className:Et.a.profileData,children:[Object(O.jsxs)("div",{className:Et.a.userNameAndStatus,children:[Object(O.jsxs)("div",{className:Et.a.userName,children:[null===n||void 0===n?void 0:n.fullName,!r&&Object(O.jsx)("div",{className:Et.a.editIcon,onClick:function(){t()},children:Object(O.jsx)(nt.e,{})})]}),Object(O.jsx)("div",{children:Object(O.jsx)(Ft,{isOwner:!r})}),Object(O.jsxs)("div",{className:Et.a.aboutMe,children:[Object(O.jsx)("span",{children:"about me: "}),(null===n||void 0===n?void 0:n.aboutMe)||"....."]}),Object(O.jsxs)("div",{className:Et.a.lookingForAJob,children:[Object(O.jsx)("span",{children:"looking for a Job: "}),(null===n||void 0===n?void 0:n.lookingForAJob)?"yes":"no"]}),Object(O.jsx)("div",{className:Et.a.professionalSkills,children:(null===n||void 0===n?void 0:n.lookingForAJob)?Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:" my professional skills: "}),(null===n||void 0===n?void 0:n.lookingForAJobDescription)||"....."]}):null})]}),Object(O.jsx)("div",{className:Et.a.contacts,children:Object(O.jsx)(Dt,{profile:n})})]})})),Mt=n(117),Ht=n.n(Mt),Bt=n(187),Vt=n.n(Bt),Jt=n(461),Gt=n(71),zt=n.n(Gt),Wt=n(256),Zt=n.n(Wt);function Qt(e){var t=e.label,n=e.fieldName,r=e.validate,a=e.properties,c=e.fieldError,s=e.Component,o=e.key,i=e.className;return Object(O.jsxs)(Zt.a,{className:i||"",label:t,children:[Object(O.jsx)(ke.b,{name:n,validate:r,render:function(e){var t=e.field;return Object(O.jsx)(s,Object(T.a)(Object(T.a)({},t),a))}}),Object(O.jsx)(ke.a,{name:n||"",component:function(){return Object(O.jsx)("div",{className:Me.a.fieldError,children:c})}})]},o)}var Yt=Te.a.Item,qt=Object(De.b)(30),Xt=s.a.memo((function(e){var t=e.deActivateEditMode,n=e.editMode,a=e.profile,c=Object(w.b)(),s=Object(w.c)(_t),o=function(e){return Object.keys(a.contacts).map((function(t){var n;return Qt({label:t,className:"".concat(zt.a[t]),fieldName:"contacts.".concat(t),fieldError:null===(n=e.contacts)||void 0===n?void 0:n[t],Component:Ue.a,validate:qt,properties:{"data-testid":"contact_input",placeholder:t}})}))};return Object(O.jsx)(ke.d,{enableReinitialize:!0,initialValues:Object(T.a)({},a),validate:function(){},onSubmit:function(e,t){setTimeout((function(){t.setSubmitting(!1)}),400)},children:function(e){var a=e.values,i=e.errors,u=e.setErrors,l=e.resetForm,d=e.setSubmitting;return Object(O.jsx)(Jt.a,{centered:!0,title:"Edit your profile",visible:n,onCancel:t,footer:[Object(O.jsx)(E.a,{"data-testid":"button_submit",htmlType:"submit",type:"primary",onClick:function(){0===Object.keys(i).length&&i.constructor===Object&&(c(function(e,t){return function(){var n=Object(F.a)(C.a.mark((function n(a,c){var s,o,i,u,l,d;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(ft("pending")),n.next=4,A.updateProfile(e);case 4:(s=n.sent).resultCode===r.success?(a(ft("ready")),(o=c().auth.id)&&a(bt(o))):(a(ft("error")),i=s.messages[s.messages.length-1],u=i.split("->")[1].split(")").join("").toLocaleLowerCase(),t({contacts:Object(ct.a)({},u,i)})),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),l=JSON.stringify(n.t0.message),d=l.slice(1,l.length-1),g.b.error(d);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,u)),"error"!==s&&"pending"!==s&&(l({}),t(),d(!1)))},children:"save"}),Object(O.jsx)(E.a,{"data-testid":"cancel_button",onClick:function(){t()},children:"cancel"})],children:Object(O.jsxs)(ke.c,{"data-testid":"form",className:zt.a.form,children:[Object(O.jsx)("div",{className:zt.a.pre,children:"pending"===s&&Object(O.jsx)("div",{children:Object(O.jsx)(Ce,{styles:"updProfPre"})})}),Object(O.jsxs)(Ue.a.Group,{children:[Qt({label:"name",fieldName:"fullName",className:zt.a.formItem,fieldError:i.fullName,Component:Ue.a,validate:Object(De.c)(20),properties:{autoFocus:!0,placeholder:"fullName"}}),Qt({label:"aboutMe",fieldName:"aboutMe",fieldError:i.aboutMe,className:zt.a.formItem,Component:Vt.a,validate:Object(De.c)(50),properties:{placeholder:"aboutMe"}}),Qt({fieldName:"lookingForAJob",fieldError:i.lookingForAJob,properties:{checked:a.lookingForAJob},className:zt.a.formItem,Component:Ht.a}),Qt({label:"lookingForAJobDescription",fieldName:"lookingForAJobDescription",fieldError:i.lookingForAJobDescription,className:zt.a.formItem,Component:Vt.a,validate:Object(De.c)(40),properties:{placeholder:"lookingForAJobDescription"}})]}),Object(O.jsxs)(Yt,{className:zt.a.contacts,children:[Object(O.jsx)("div",{"data-testid":"contacts",className:zt.a.contactsHeader,children:"contacts"}),o(i)]})]})})}})})),Kt=s.a.memo((function(){var e,t=Object(w.b)(),n=Object(w.c)(mt),r=Object(w.c)(P.e),a=Object(q.g)(),s=Object(q.h)().userId,o=Object(c.useState)(!1),i=Object($e.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){var e=Number(s);e?(t(bt(e)),t(pt(e))):r?(t(bt(r)),t(pt(r))):a.push("/login")}),[t,r,s,a]),n?Object(O.jsxs)("div",{"data-testid":"aboutUser_wrapper",className:tt.a.aboutUser,children:[Object(O.jsx)(gt,{"data-testid":"user_photo_component",isOwner:!s,img:null===(e=n.photos)||void 0===e?void 0:e.large}),Object(O.jsx)("div",{children:!u&&Object(O.jsx)(Lt,{"data-testid":"profile_data_component",activateEditMode:function(){l(!0)}})}),u&&Object(O.jsx)(Xt,{profile:n,"data-testid":"profile_data_form_component",deActivateEditMode:function(){l(!1)},editMode:u})]}):Object(O.jsx)(Ce,{"data-testid":"userInfo_preloader",styles:"profilePre"})})),$t=n.p+"static/media/mainImg.0de69ef5.jpg",en=s.a.memo((function(){return Object(O.jsxs)("div",{className:Ke.a.profilePage,children:[Object(O.jsx)("div",{className:Ke.a.mainImg,children:Object(O.jsx)("img",{src:$t,alt:"mainImg"})}),Object(O.jsx)("div",{"data-testid":"UserInfo_wrapper",className:Ke.a.contentBottom,children:Object(O.jsx)(Kt,{})})]})})),tn=n(95),nn=n.n(tn),rn=n(257),an=n.n(rn),cn=s.a.memo((function(e){var t=e.img;return Object(O.jsx)("div",{className:an.a.userPhoto,children:Object(O.jsx)("img",{src:t||We.a,alt:"authorized user"})})})),sn=function(e){return e.sideBar.friends},on=n(170),un=n.n(on),ln=n(110),dn=n.n(ln),jn={friends:[]},fn=function(e){return{type:"SB/FRIENDS_RECEIVED",payload:{friends:e}}},bn=function(){return function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.getUsers(20,3,{term:"",friend:!0});case 3:n=e.sent,t(fn(n.items)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=JSON.stringify(e.t0.message),a=r.slice(1,r.length-1),g.b.error(a);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},pn=s.a.memo((function(e){var t=e.photos,n=e.id,r=e.name,a=Object(Ct.a)(r,10,"Friend"),c=a.fullText,s=a.menu,o=a.showFullText,i=a.isTextBig,u=a.shortText,l=t.small,d=Object(w.c)(oe),j=Object(w.b)(),f=d.some((function(e){return e===n})),p=r;return p=i?u:c,Object(O.jsxs)("div",{className:dn.a.friend,children:[Object(O.jsxs)("div",{className:dn.a.imgAndName,children:[Object(O.jsx)("div",{className:dn.a.img,children:Object(O.jsx)(b.b,{to:"/profile/".concat(n),children:Object(O.jsx)("img",{src:l||We.a,alt:"friendPhoto"})})}),Object(O.jsx)("div",{className:dn.a.nameLink,children:Object(O.jsxs)(b.b,{to:"/profile/".concat(n),children:[o?c:p,Object(O.jsx)("span",{className:dn.a.showMore,children:i?Object(O.jsx)(S.a,{overlay:s,placement:"topCenter",children:Object(O.jsx)("span",{children:"..."})}):null})]})})]}),Object(O.jsx)(E.a,{disabled:f,onClick:function(){j(function(e){return function(){var t=Object(F.a)(C.a.mark((function t(n){var r,a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r=n(xe(e)),Promise.all([r]).then((function(){n(bn())}))}catch(s){a=JSON.stringify(s.message),c=a.slice(1,a.length-1),g.b.error(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),j(he(n,!0))},children:"delete"})]})})),mn=s.a.memo((function(){var e=Object(w.c)(sn).map((function(e){return Object(O.jsx)(pn,{photos:e.photos,name:e.name,id:e.id},e.id)}));return Object(O.jsxs)("div",{className:un.a.SidBaFriends,children:[Object(O.jsx)("h2",{children:"friends"}),Object(O.jsx)("div",{className:un.a.test,children:Object(O.jsx)("div",{className:un.a.friends,children:e})})]})})),On=function(){var e=Object(w.b)(),t=Object(w.c)(P.a);return Object(c.useEffect)((function(){e(G()),e(bn())}),[e]),Object(O.jsxs)("div",{className:nn.a.sidebar,children:[Object(O.jsx)("div",{className:nn.a.sidebarTop}),Object(O.jsxs)("div",{className:nn.a.sidebarBottom,children:[Object(O.jsx)("div",{className:nn.a.userPhoto,children:Object(O.jsx)(b.b,{to:"/profile",children:Object(O.jsx)(cn,{img:null===t||void 0===t?void 0:t.photos.large})})}),Object(O.jsx)("div",{className:nn.a.userName,children:Object(O.jsx)(b.b,{to:"/profile",children:Object(O.jsx)("span",{children:null===t||void 0===t?void 0:t.fullName})})}),Object(O.jsx)("div",{children:Object(O.jsx)(mn,{})}),Object(O.jsx)("div",{className:nn.a.viewP,children:Object(O.jsx)(b.b,{to:"/profile",children:"view profile"})})]})]})},hn=n(198),vn=n.n(hn),_n=n(127),xn=n.n(_n),gn=Te.a.Item,Nn=s.a.memo((function(){var e=Object(w.b)(),t=Object(w.c)(P.b),n=Object(w.c)(P.c);return Object(O.jsx)(ke.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:""},validate:function(e){},onSubmit:function(t,n){setTimeout((function(){var c=t.email,s=t.password,o=t.rememberMe,i=t.captcha;e(function(e,t,n,c){return function(){var s=Object(F.a)(C.a.mark((function s(o){var i,u,l;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,R.login(e,t,n,c);case 3:(i=s.sent).resultCode===r.success?(o(J()),o(B(null)),o(V(null))):i.resultCode===a.captcha?(o(V(i.messages[0])),o(z())):o(V(i.messages[0])),s.next=12;break;case 7:s.prev=7,s.t0=s.catch(0),u=JSON.stringify(s.t0.message),l=u.slice(1,u.length-1),g.b.error(l);case 12:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}(c,s,o,i)),n.setSubmitting(!1)}),400)},children:function(e){var r=e.isSubmitting,a=e.values,c=e.errors;return Object(O.jsxs)(ke.c,{className:xn.a.form,children:[Object(O.jsxs)(gn,{label:"email",children:[Object(O.jsx)(ke.b,{name:"email",validate:De.a,render:function(e){var t=e.field;return Object(O.jsx)(Ue.a,Object(T.a)(Object(T.a)({},t),{},{type:"email",placeholder:"email"}))}}),Object(O.jsx)(ke.a,{name:"email",component:function(){return Object(O.jsx)("div",{className:Me.a.fieldError,children:c.email})}})]}),Object(O.jsxs)(gn,{label:"password",children:[Object(O.jsx)(ke.b,{name:"password",validate:Object(De.c)(40),render:function(e){var t=e.field;return Object(O.jsx)(Ue.a.Password,Object(T.a)(Object(T.a)({},t),{},{type:"password",placeholder:"password"}))}}),Object(O.jsx)(ke.a,{name:"password",component:function(){return Object(O.jsx)("div",{className:Me.a.fieldError,children:c.password})}})]}),Object(O.jsx)(gn,{children:Object(O.jsx)(ke.b,{name:"rememberMe",render:function(e){var t=e.field;return Object(O.jsx)(Ht.a,Object(T.a)(Object(T.a)({},t),{},{checked:a.rememberMe,children:"rememberMe"}))}})}),n&&Object(O.jsx)("div",{className:Me.a.formError,children:n}),t&&Object(O.jsxs)("div",{className:xn.a.captcha,children:[Object(O.jsx)("div",{className:xn.a.captchaImg,children:Object(O.jsx)(ye.a,{src:t})}),Object(O.jsxs)(gn,{label:"captcha",children:[Object(O.jsx)(ke.b,{name:"captcha",validate:Object(De.c)(20),render:function(e){var t=e.field;return Object(O.jsx)(Ue.a,Object(T.a)(Object(T.a)({},t),{},{placeholder:"captcha",autoFocus:!0}))}}),Object(O.jsx)(ke.a,{name:"captcha",component:function(){return Object(O.jsx)("div",{className:Me.a.fieldError,children:c.captcha})}})]})]}),Object(O.jsx)(E.a,{className:xn.a.SendButton,type:"primary",htmlType:"submit",disabled:r,children:"login"})]})}})})),En=s.a.memo((function(){return Object(w.c)(P.d)?Object(O.jsx)(q.a,{to:"/profile"}):Object(O.jsxs)("div",{className:vn.a.loginPage,children:[Object(O.jsx)("div",{className:vn.a.loginHeader,children:"login"}),Object(O.jsx)("div",{children:Object(O.jsx)(Nn,{})})]})})),Sn=n(258),yn=n.n(Sn),wn=s.a.memo((function(){return Object(O.jsx)("div",{className:yn.a.notFound,children:"NOT FOUND"})})),Pn=s.a.lazy((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,474))})),In=s.a.memo((function(){var e=Object(w.c)(P.d);return Object(O.jsxs)("div",{className:K.a.main,children:[e&&Object(O.jsx)(On,{}),Object(O.jsx)("div",{className:"commonContentStyle ".concat(e?"":"authorized"),children:Object(O.jsx)("div",{children:Object(O.jsxs)(q.d,{children:[Object(O.jsx)(q.b,{path:"/profile/:userId?",render:function(){return Object(O.jsx)(en,{})}}),Object(O.jsx)(q.b,{path:"/users",children:Object(O.jsx)(qe,{})}),Object(O.jsx)(q.b,{path:"/login",children:Object(O.jsx)(En,{})}),Object(O.jsx)(q.b,{exact:!0,path:"/",render:function(){return Object(O.jsx)(q.a,{to:"/profile"})}}),Object(O.jsx)(q.b,{path:"*",children:Object(O.jsx)(wn,{})})]})})}),Object(O.jsx)("div",{children:e&&Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)("div",{children:"loading..."}),children:Object(O.jsx)(Pn,{})})})]})})),Cn={isAuthorizeFinished:!1},Fn=function(e){return{type:"AP/AUTHORIZE_IS_FINISHED",payload:{isAuthorizeFinished:e}}},Tn=function(e){return e.app.isAuthorizeFinished},Un=n(259),kn=n.n(Un),Rn=s.a.memo((function(){return Object(O.jsx)("div",{"data-testid":"footer",className:kn.a.footer,children:"this site was created by David Gasparian"})}));document.body.style.backgroundColor="#F3F2EF";var An=function(){var e=Object(w.b)(),t=Object(w.c)(Tn);return Object(c.useEffect)((function(){e(function(){var e=Object(F.a)(C.a.mark((function e(t){var n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t(J()),Promise.all([n]).then((function(){t(Fn(!0))}))}catch(c){r=JSON.stringify(c.message),a=r.slice(1,r.length-1),g.b.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(Y,{}),Object(O.jsx)(In,{}),Object(O.jsx)(Rn,{})]}):Object(O.jsx)(Ce,{styles:"appPre"})},Dn=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,473)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Ln=n(128),Mn=n(260),Hn=n(199),Bn=Object(Ln.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PR/STATUS_RECEIVED":case"PR/SET_IS_FETCHING":case"PR/PHOTOS_IS_LOADED":case"PR/SET_UPDATE_PROFILE_STATUS":return Object(T.a)(Object(T.a)({},e),t.payload);case"PR/PHOTOS_RECEIVED":return Object(T.a)(Object(T.a)({},e),{},{profile:Object(T.a)(Object(T.a)({},e.profile),{},{photos:t.payload.photos})});case"PR/PROFILE_RECEIVED":return Object(T.a)(Object(T.a)({},e),{},{profile:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AU/AUTH_VERIFIED":case"AU/AUTH_USER_RECEIVED":case"AU/CAPTCHA_URL_IS_RECEIVED":case"AU/AN_ERROR_HAS_OCCURRED":return Object(T.a)(Object(T.a)({},e),t.payload);default:return e}},users:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"UR/USERS_RECEIVED":return Object(T.a)(Object(T.a)({},n),{},{users:r.payload.users});case"UR/FOLLOW_IS_FINISHED":return Object(T.a)(Object(T.a)({},n),{},{users:Object(ie.a)(null===(e=n.users)||void 0===e?void 0:e.map((function(e){return e.id===r.payload.userId?Object(T.a)(Object(T.a)({},e),{},{followed:!0}):e})))});case"UR/UNFOLLOW_IS_FINISHED":return Object(T.a)(Object(T.a)({},n),{},{users:Object(ie.a)(null===(t=n.users)||void 0===t?void 0:t.map((function(e){return e.id===r.payload.userId?Object(T.a)(Object(T.a)({},e),{},{followed:!1}):e})))});case"UR/SET_PAGE_NUMBER":return Object(T.a)(Object(T.a)({},n),{},{pageNumber:r.payload.pageNumber});case"UR/SET_FILTER_DATA":return Object(T.a)(Object(T.a)({},n),{},{filter:r.payload.filter});case"UR/SET_FOLLOWING_PROGRESS":return Object(T.a)(Object(T.a)({},n),{},{followInProgress:r.payload.isFollowInProgress?[].concat(Object(ie.a)(n.followInProgress),[r.payload.id]):n.followInProgress.filter((function(e){return e!==r.payload.id}))});case"UR/SET_IS_FETCHING":case"UR/TOTAL_COUNT_IS_RECEIVED":return Object(T.a)(Object(T.a)({},n),r.payload);default:return n}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AP/AUTHORIZE_IS_FINISHED":return Object(T.a)(Object(T.a)({},e),t.payload);default:return e}},chat:Hn.a,sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SB/FRIENDS_RECEIVED":return Object(T.a)(Object(T.a)({},e),t.payload);default:return e}}}),Vn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ln.c,Jn=Object(Ln.d)(Bn,Vn(Object(Ln.a)(Mn.a)));window._store=Jn;var Gn=Jn;i.a.render(Object(O.jsx)(b.a,{children:Object(O.jsxs)(w.a,{store:Gn,children:[Object(O.jsx)(An,{}),","]})}),document.getElementById("root")),Dn()},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=function(e){var t;return t=(t=s(40)(e))||c(e),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t=t||"Invalid email address"),t},a=function(e){return function(t){return s(e)(t)||c(t)}},c=function(e){var t;return e||(t="filed is required"),t},s=function(e){return function(t){var n;return t&&t.length>e&&(n="Max length is ".concat(e)),n}}},64:function(e,t,n){e.exports={fieldError:"formsControl_fieldError__2W8lW",formError:"formsControl_formError__1ienr"}},68:function(e,t,n){e.exports={user:"User_user__1m8QG",userInfo:"User_userInfo__psQg3",rightBlock:"User_rightBlock__iRdgz",button:"User_button__1hc_-",leftBlock:"User_leftBlock__3WWr7",status:"User_status__2w2lD",userName:"User_userName__3dUmi",bottomLine:"User_bottomLine__3sa7o"}},71:function(e,t,n){e.exports={form:"ProfileDataForm_form__1FYMM",pre:"ProfileDataForm_pre__2O8rg",formItem:"ProfileDataForm_formItem__23klk",contacts:"ProfileDataForm_contacts__1uNUy",contactsHeader:"ProfileDataForm_contactsHeader__37Njc",contact:"ProfileDataForm_contact__2AOVd",SendButton:"ProfileDataForm_SendButton__2uSCV",closeIcon:"ProfileDataForm_closeIcon__19z6Z"}},80:function(e,t,n){e.exports={profileData:"ProfileData_profileData__3wzJC",userNameAndStatus:"ProfileData_userNameAndStatus__1_-SB",userName:"ProfileData_userName__2tGwV",editIcon:"ProfileData_editIcon__14FgP",aboutMe:"ProfileData_aboutMe__2PHeA"}},81:function(e,t,n){e.exports={status:"Status_status__KLu2k",cursor:"Status_cursor__fCL1U",statusTitle:"Status_statusTitle__3rOuF",statusText:"Status_statusText__3sk-5",showMore:"Status_showMore__O3g_3",menu:"Status_menu__3HvJw",showInfoMenu:"Status_showInfoMenu__9qS5j"}},82:function(e,t,n){"use strict";t.a=n.p+"static/media/img.4e5df239.jpg"},95:function(e,t,n){e.exports={sidebar:"SideBar_sidebar__3dulD",sidebarBottom:"SideBar_sidebarBottom__vxHE7",userPhoto:"SideBar_userPhoto__tSYGM",userName:"SideBar_userName__pnHuT",viewP:"SideBar_viewP__3zbLI",sidebarTop:"SideBar_sidebarTop__LRdFP"}}},[[454,1,2]]]);
//# sourceMappingURL=main.52c266b7.chunk.js.map