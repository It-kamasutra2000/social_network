(this["webpackJsonpproject-3"]=this["webpackJsonpproject-3"]||[]).push([[3],{467:function(e,s,t){e.exports={chatPage:"ChatPage_chatPage__9WDtY",chatTop:"ChatPage_chatTop__1sYKn",icon:"ChatPage_icon__23E5F",chat:"ChatPage_chat__3xZVi",hide:"ChatPage_hide__aVUWL"}},468:function(e,s,t){e.exports={form:"ChatForm_form__A2pwj",formItem:"ChatForm_formItem__3BguD"}},469:function(e,s,t){e.exports={message:"Message_message__10VTq",userInfo:"Message_userInfo__iEUNO",nameAndMess:"Message_nameAndMess__RVD-W",userName:"Message_userName__2jaM5",bottomLine:"Message_bottomLine__2hbma",showMore:"Message_showMore__3N94L"}},474:function(e,s,t){"use strict";t.r(s),t.d(s,"Chat",(function(){return B}));var a=t(98),c=t(1),n=t.n(c),i=t(467),r=t.n(i),o=t(9),j=t(468),m=t.n(j),l=t(457),b=t(67),d=t(26),u=t(55),h=t(187),O=t.n(h),x=t(14),_=t(199),f=function(e){return e.chat.messages},g=function(e){return e.chat.wsStatus},p=t(64),v=t.n(p),N=t(2),T=l.a.Item,C=n.a.memo((function(){var e=Object(x.b)(),s=Object(x.c)(g);return Object(N.jsx)(d.d,{initialValues:{messageText:""},validate:function(e){},onSubmit:function(s,t){setTimeout((function(){e(Object(_.b)(s.messageText)),t.setSubmitting(!1),t.resetForm({})}),400)},children:function(e){var t=e.isSubmitting,a=e.errors,c=e.values;return Object(N.jsxs)(d.c,{className:m.a.form,children:[Object(N.jsxs)(T,{className:m.a.formItem,children:[Object(N.jsx)(d.b,{name:"messageText",validate:Object(u.b)(100),children:function(e){var s=e.field;return Object(N.jsx)(O.a,Object(o.a)(Object(o.a)({showCount:!0},s),{},{placeholder:"message body",autoFocus:!0}))}}),Object(N.jsx)(d.a,{name:"messageText",component:function(){return Object(N.jsx)("div",{className:v.a.fieldError,children:a.messageText})}})]}),Object(N.jsx)(b.a,{className:m.a.SendButton,type:"primary",htmlType:"submit",disabled:t||"close"===s||!c.messageText,children:"add"})]})}})})),M=t(82),w=t(469),P=t.n(w),I=t(462),F=t(139),S=n.a.memo((function(e){var s=e.message,t=(e.id,Object(F.a)(s.message,20,"Message")),a=t.fullText,c=t.setShowFullText,n=t.menu,i=t.showFullText,r=t.isTextBig,o=t.shortText,j=Object(N.jsx)("span",{className:P.a.showMore,children:r?Object(N.jsx)(I.a,{overlay:n,placement:"topCenter",children:Object(N.jsx)(b.a,{size:"small",onClick:function(){c(!0)},children:"more"})}):null}),m=Object(N.jsx)(b.a,{className:P.a.close,size:"small",onClick:function(){c(!1)},children:"hide"}),l=i?m:j,d=s.message;return d=r?o+"...":a,Object(N.jsxs)("div",{className:P.a.message,children:[Object(N.jsxs)("div",{className:P.a.userInfo,children:[Object(N.jsx)("div",{children:Object(N.jsx)("img",{src:s.photo||M.a,alt:"uerPhoto"})}),Object(N.jsxs)("div",{className:P.a.nameAndMess,children:[Object(N.jsx)("div",{"data-test":"userNameTest",className:P.a.userName,children:s.userName}),Object(N.jsxs)("div",{className:P.a.message,children:[Object(N.jsx)("div",{children:"message:"}),Object(N.jsx)("span",{children:i?a:d})]}),Object(N.jsxs)("div",{children:[r?l:null," "]})]})]}),Object(N.jsx)("div",{className:P.a.bottomLine})]})})),k=t(470),y=t(45),L=t(29),V=t(471),A=t(472),E=n.a.memo((function(){var e=Object(x.c)(y.d),s=Object(c.useState)(!0),t=Object(a.a)(s,2),n=t[0],i=t[1];return e?Object(N.jsxs)("div",{className:"".concat(r.a.chatPage," ").concat(n?"":r.a.hide),children:[Object(N.jsxs)("div",{className:r.a.chatTop,children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{children:" Chat "}),Object(N.jsx)(V.a,{})]}),Object(N.jsx)("div",{className:r.a.icon,onClick:function(){i(!n)},children:n?Object(N.jsx)(A.a,{}):Object(N.jsx)(A.b,{})})]}),Object(N.jsx)(B,{}),Object(N.jsx)(C,{})]}):Object(N.jsx)(L.a,{to:{pathname:"/login"}})})),B=n.a.memo((function(){var e=Object(x.b)(),s=Object(x.c)(f);Object(c.useEffect)((function(){return e(Object(_.c)()),function(){e(Object(_.d)())}}),[e]);var t=s.map((function(e){return Object(N.jsx)(S,{id:e.userId,message:e},e.id)}));return Object(N.jsx)("div",{className:r.a.chat,children:Object(N.jsx)(k.a,{children:t})})}));s.default=E}}]);
//# sourceMappingURL=3.5c9d1b2b.chunk.js.map