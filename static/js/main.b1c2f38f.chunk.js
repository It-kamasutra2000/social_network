(this["webpackJsonpproject-3"]=this["webpackJsonpproject-3"]||[]).push([[0],{108:function(e,t,n){e.exports={header:"Header_header__3oEm5",headerContent:"Header_headerContent__3cVMj",headerContentLeft:"Header_headerContentLeft__1kmPt",logo:"Header_logo__1iYvb",headerContentRight:"Header_headerContentRight__3Tyn3"}},109:function(e,t,n){e.exports={friend:"Friend_friend__3rcLc",imgAndName:"Friend_imgAndName__29T5Z",nameLink:"Friend_nameLink__a9yL5",showMore:"Friend_showMore__1Sr6n"}},122:function(e,t,n){e.exports={status:"Status_status__KLu2k",showAndHide:"Status_showAndHide__2loYr",test:"Status_test__kLVtM",statusText:"Status_statusText__3sk-5",showMore:"Status_showMore__O3g_3"}},123:function(e,t,n){e.exports={contacts:"UserContacts_contacts__1UZql",contactsTitle:"UserContacts_contactsTitle__1kr9E",contactsValues:"UserContacts_contactsValues__3wubr",noContacts:"UserContacts_noContacts__1gMHL"}},124:function(e,t,n){e.exports={usersPage:"UsersPage_usersPage__1sRyt",userPageTopBlock:"UsersPage_userPageTopBlock__3Bci2",usersHeader:"UsersPage_usersHeader__1u2Vr",notFound:"UsersPage_notFound__5YT83"}},125:function(e,t,n){e.exports={form:"LoginForm_form__2eYfX",captcha:"LoginForm_captcha__35FDF",captchaImg:"LoginForm_captchaImg__214o4"}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(97),a=n(1),c=n(251),s=n(187),o=n.n(s),i=n(2),u=function(e,t,n){var s=Object(a.useState)(!1),u=Object(r.a)(s,2),l=u[0],d=u[1],j="Friend"!==n,b=e,f="",p=null===e||void 0===e?void 0:e.length,O=p&&p>t;O&&(f=e.slice(0,t));var m=Object(i.jsx)(c.a,{className:o.a.menu,children:Object(i.jsx)(c.a.Item,{className:o.a.showMoreText,onClick:function(){j&&d(!0)},children:Object(i.jsx)("span",{children:j?"show more":b})})});return{fullText:b,isTextBig:O,showFullText:l,setShowFullText:d,menu:m,shortText:f}}},162:function(e,t,n){e.exports={profilePage:"ProfilePage_profilePage__3cw9o",mainImg:"ProfilePage_mainImg__3K70k"}},163:function(e,t,n){e.exports={SidBaFriends:"Friends_SidBaFriends__2VO4V",friends:"Friends_friends__2CVfr"}},164:function(e,t,n){e.exports={form:"FilterForm_form__3cdQq",select:"FilterForm_select__1g4_-",SendButton:"FilterForm_SendButton__33gxr"}},166:function(e,t,n){},181:function(e,t,n){e.exports={page:"Page_page__3wQj-",active:"Page_active__biFyX"}},184:function(e,t,n){e.exports={aboutUser:"UserInfo_aboutUser__35ua9",editIcon:"UserInfo_editIcon__2x5OA"}},185:function(e,t,n){e.exports={userPhoto:"UserPhoto_userPhoto__LI0GT",ownerPhoto:"UserPhoto_ownerPhoto__2RVmm"}},186:function(e,t,n){e.exports={preloader:"Preloader_preloader__vZgi5",profilePre:"Preloader_profilePre__Xazmf",statusPre:"Preloader_statusPre__2Ed3w",photosPre:"Preloader_photosPre__1Q_Cs",usersPre:"Preloader_usersPre__14nWV",updProfPre:"Preloader_updProfPre__1slyY",appPre:"Preloader_appPre__7OWEe"}},187:function(e,t,n){e.exports={menu:"useShowMore_menu__1Ia2o",showMoreText:"useShowMore_showMoreText__ZZx--"}},188:function(e,t,n){e.exports={contact:"UserContact_contact__3qAUb",icon:"UserContact_icon__3LE9C"}},190:function(e,t,n){e.exports={loginHeader:"LoginPage_loginHeader__36LCV"}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return U}));var r=n(10),a=n.n(r),c=n(21),s=n(76),o=n(8),i=n(90),u=null,l={message:[],open:[]},d=function(e){l.message.forEach((function(t){return t(JSON.parse(e.data))}))},j=function(){console.log("error")},b=function(){setTimeout((function(){O(),console.log("reconnecting"),l.open.forEach((function(e){return e("close")}))}),3e3)},f=function(){l.open.forEach((function(e){return e("open")}))},p=function(){var e,t,n,r,a;null===(e=u)||void 0===e||e.close(),null===(t=u)||void 0===t||t.removeEventListener("message",d),null===(n=u)||void 0===n||n.removeEventListener("close",b),null===(r=u)||void 0===r||r.removeEventListener("open",f),null===(a=u)||void 0===a||a.removeEventListener("error",j)},O=function(){p(),(u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("message",d),u.addEventListener("close",b),u.addEventListener("open",f),u.addEventListener("error",j)},m=function(){O()},h=function(e,t){l=Object(o.a)(Object(o.a)({},l),{},Object(i.a)({},e,[].concat(Object(s.a)(l[e]),[t])))},v=function(e,t){l=Object(o.a)(Object(o.a)({},l),{},Object(i.a)({},e,l[e].filter((function(e){return e!==t}))))},x=function(e){var t;null===(t=u)||void 0===t||t.send(e)},_=function(){p(),l=Object(o.a)(Object(o.a)({},l),{},{message:[]}),l=Object(o.a)(Object(o.a)({},l),{},{open:[]})},g=n(435),N={messages:[],wsStatus:"open"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CR/MESSAGES_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.messages.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(g.a)()})})))).filter((function(e,t,n){return t>=n.length-50}))});case"CR/CLEAN_MESSAGES":case"CR/WS_STATUS_CHANGED":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},S=function(e){return{type:"CR/MESSAGES_RECEIVED",payload:{messages:e}}},y=function(e){return{type:"CR/WS_STATUS_CHANGED",payload:{wsStatus:e}}},w=function(){return{type:"CR/CLEAN_MESSAGES",payload:{messages:[]}}},P=null,I=function(e){return P||(P=function(t){e(S(t))}),P},F=null,C=function(e){return F||(F=function(t){e(y(t))}),F},T=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(),h("message",I(t)),h("open",C(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(),v("message",I(t)),v("open",C(t)),t(w());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(e);case 1:case"end":return t.stop()}}),t)})))}},230:function(e,t,n){e.exports={pages:"Pages_pages__2_8Fx","ant-menu-submenu-title":"Pages_ant-menu-submenu-title__2FIm8"}},231:function(e,t,n){e.exports={avatar:"UserAvatar_avatar__ibIyS",img:"UserAvatar_img__1uriq"}},239:function(e,t,n){e.exports={userPhoto:"SidebarUserPhoto_userPhoto__2ClUV"}},240:function(e,t,n){e.exports={main:"Main_main__pOQy5"}},241:function(e,t,n){e.exports={paginator:"Paginator_paginator__h4jVX"}},243:function(e,t,n){e.exports={notFound:"NotFound_notFound__f8O5n"}},257:function(e,t,n){},41:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=function(e){return e.auth.id},a=function(e){return e.auth.isAuth},c=function(e){return e.auth.authUserProfile},s=function(e){return e.auth.captchaUrl},o=function(e){return e.auth.errorMessage}},426:function(e,t,n){"use strict";n.r(t);var r,a,c=n(1),s=n.n(c),o=n(31),i=n.n(o),u=(n(257),n(166),n(258),n(34)),l=n(118),d=n(108),j=n.n(d),b=n(230),f=n.n(b),p=n(436),O=n(437),m=n(181),h=n.n(m),v=n(2),x=s.a.memo((function(e){var t=e.Icon,n=e.path,r=e.pageName;return Object(v.jsx)("div",{className:h.a.page,children:Object(v.jsxs)(u.b,{activeClassName:h.a.active,to:"/".concat(n),children:[Object(v.jsx)(t,{}),Object(v.jsxs)("span",{children:[r," "]})]})})})),_=s.a.memo((function(){return Object(v.jsxs)("div",{className:f.a.pages,children:[Object(v.jsx)("div",{children:Object(v.jsx)(x,{Icon:p.a,path:"profile",pageName:"profile"},"page1")}),Object(v.jsx)("div",{children:Object(v.jsx)(x,{Icon:O.a,path:"users",pageName:"users"},"page2")})]})})),g=n(247),N=n(251),E=n(66),S=n(434),y=n(231),w=n.n(y),P=n(438),I=n(14),F=n(41),C=n(10),T=n.n(C),k=n(21),U=n(8),R=n(232),A=n.n(R).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"bb181220-b3ed-4219-9d9b-5805e04d81d5"}});!function(e){e[e.success=0]="success",e[e.error=1]="error"}(r||(r={})),function(e){e[e.captcha=10]="captcha"}(a||(a={}));var D={authMe:function(){var e=Object(k.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(k.a)(T.a.mark((function e(t,n,r){var a,c,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:"",e.next=3,A.post("auth/login",{email:t,password:n,rememberMe:r,captcha:a});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),logout:function(){var e=Object(k.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},L={getUser:function(){var e=Object(k.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("profile/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(k.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("profile/status/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateStatus:function(){var e=Object(k.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("profile/status",{status:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUserPhoto:function(){var e=Object(k.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,A.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProfile:function(){var e=Object(k.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("profile",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M={getCaptchaUrl:function(){var e=Object(k.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},H={isAuth:!1,id:null,email:null,login:null,authUserProfile:null,captchaUrl:null,errorMessage:null},V=function(e,t,n,r){return{type:"AU/AUTH_VERIFIED",payload:{email:t,login:n,id:e,isAuth:r}}},B=function(e){return{type:"AU/AUTH_USER_RECEIVED",payload:{authUserProfile:e}}},J=function(e){return{type:"AU/CAPTCHA_URL_IS_RECEIVED",payload:{captchaUrl:e}}},G=function(e){return{type:"AU/AN_ERROR_HAS_OCCURRED",payload:{errorMessage:e}}},z=function(){return function(){var e=Object(k.a)(T.a.mark((function e(t){var n,a,c,s,o,i,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.authMe();case 3:(n=e.sent).resultCode===r.success&&(a=n.data,c=a.id,s=a.login,o=a.email,t(V(c,s,o,!0))),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),i=JSON.stringify(e.t0.message),u=i.slice(1,i.length-1),g.b.error(u);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},W=function(){return function(){var e=Object(k.a)(T.a.mark((function e(t,n){var r,a,c,s,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),!(a=r.auth.id)){e.next=8;break}return e.next=6,L.getUser(a);case 6:c=e.sent,t(B(c));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),s=JSON.stringify(e.t0.message),o=s.slice(1,s.length-1),g.b.error(o);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(k.a)(T.a.mark((function e(t){var n,r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getCaptchaUrl();case 3:n=e.sent,t(J(n.url)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=JSON.stringify(e.t0.message),a=r.slice(1,r.length-1),g.b.error(a);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Y=s.a.memo((function(){var e=Object(I.c)(F.a),t=null===e||void 0===e?void 0:e.fullName,n=Object(I.c)(F.d),a=Object(I.b)();var c=Object(v.jsxs)(N.a,{children:[Object(v.jsx)(N.a.Item,{children:Object(v.jsx)(E.a,{danger:!0,block:!0,onClick:function(){a(function(){var e=Object(k.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.logout();case 3:e.sent.resultCode===r.success&&t(V(null,null,null,!1)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=JSON.stringify(e.t0.message),a=n.slice(1,n.length-1),g.b.error(a);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},children:"logout"})},"1"),Object(v.jsx)(N.a.Item,{onClick:function(e){g.b.info("Click on menu item."),console.log("click",e)},icon:Object(v.jsx)(P.a,{}),children:"2nd menu item"},"2")]});return Object(v.jsx)("div",{className:w.a.avatar,children:n?Object(v.jsx)(S.a.Button,{overlay:c,children:Object(v.jsx)(u.b,{to:"/profile",children:Object(v.jsxs)("div",{children:[" ",t]})})}):Object(v.jsx)("div",{children:Object(v.jsx)(E.a,{children:Object(v.jsx)(u.b,{to:"./login",children:"login"})})})})})),Q=s.a.memo((function(){return Object(v.jsx)("div",{className:j.a.header,children:Object(v.jsxs)("div",{className:j.a.headerContent,children:[Object(v.jsx)("div",{className:j.a.headerContentLeft,children:Object(v.jsxs)("div",{className:j.a.logo,children:[Object(v.jsx)(l.b,{}),Object(v.jsx)("span",{children:"SOCIAL NETWORK"})]})}),Object(v.jsxs)("div",{className:j.a.headerContentRight,children:[Object(v.jsx)("div",{children:Object(v.jsx)(_,{})}),Object(v.jsx)("div",{children:Object(v.jsx)(Y,{})})]})]})})})),X=n(162),q=n.n(X),K=n(97),$=n(184),ee=n.n($),te=n(432),ne=n(185),re=n.n(ne),ae=n(71),ce=n(90),se=n(87),oe=n(235),ie={profile:null,status:"",isFetching:!1,isLoading:!1,updateProfileStatus:null,icons:{facebook:se.a,website:oe.a,vk:l.a,github:se.b,instagram:se.c,twitter:se.f,youtube:se.d,mainLink:l.a}},ue=function(e){return{type:"PR/PROFILE_RECEIVED",payload:e}},le=function(e){return{type:"PR/STATUS_RECEIVED",payload:{status:e}}},de=function(e){return{type:"PR/SET_IS_FETCHING",payload:{isFetching:e}}},je=function(e){return{type:"PR/PHOTOS_RECEIVED",payload:{photos:e}}},be=function(e){return{type:"PR/PHOTOS_IS_LOADED",payload:{isLoading:e}}},fe=function(e){return{type:"PR/SET_UPDATE_PROFILE_STATUS",payload:{updateProfileStatus:e}}},pe=function(e){return function(){var t=Object(k.a)(T.a.mark((function t(n){var r,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.getUser(e);case 3:r=t.sent,n(ue(r)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(k.a)(T.a.mark((function t(n){var r,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(de(!0)),t.next=4,L.getStatus(e);case 4:r=t.sent,n(le(r)),n(de(!1)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},me=function(e){return e.profile.profile},he=function(e){return e.profile.status},ve=function(e){return e.profile.isFetching},xe=function(e){return e.profile.isLoading},_e=function(e){return e.profile.updateProfileStatus},ge=function(e){return e.profile.icons},Ne=n(430),Ee=n.p+"static/media/loading.e94beeb6.gif",Se=n(186),ye=n.n(Se),we=s.a.memo((function(e){var t=e.styles;return Object(v.jsx)("div",{className:ye.a.preloader+" "+ye.a[t],children:Object(v.jsx)(Ne.a,{src:Ee})})})),Pe=s.a.memo((function(e){var t=e.img,n=e.isOwner,a=Object(I.b)(),c=Object(I.c)(xe);return Object(v.jsxs)("div",{className:re.a.userPhoto,children:[n?Object(v.jsx)("img",{src:t||ae.a,alt:"userPhoto"}):Object(v.jsx)("label",{htmlFor:"file",children:Object(v.jsx)("img",{className:re.a.ownerPhoto,src:t||ae.a,alt:"userPhoto"})}),Object(v.jsx)(te.a,{hidden:!0,type:"file",id:"file",onChange:function(e){var t,n=(null===(t=e.currentTarget.files)||void 0===t?void 0:t.length)&&e.currentTarget.files[0];a(function(e){return function(){var t=Object(k.a)(T.a.mark((function t(n){var a,c,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(be(!0)),t.next=4,L.updateUserPhoto(e);case 4:(a=t.sent).resultCode===r.success&&(n(je(a.data.photos)),n(W())),n(be(!1)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),c=JSON.stringify(t.t0.message),s=c.slice(1,c.length-1),g.b.error(s);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(n))}}),c&&Object(v.jsx)(we,{styles:"photosPre"})]})})),Ie=n(28),Fe=n(89),Ce=n.n(Fe),Te=n(122),ke=n.n(Te),Ue=n(429),Re=n(23),Ae=n(53),De=n(47),Le=n.n(De),Me=Ue.a.Item,He=Object(Ae.b)(30),Ve=s.a.memo((function(e){var t=e.deActivateEditMode,n=Object(I.c)(he);return Object(v.jsx)(Re.d,{initialValues:{statusText:n},validate:function(e){},onSubmit:function(e,t){setTimeout((function(){t.setSubmitting(!1)}),400)},children:function(e){var n=e.values,r=e.errors;return Object(v.jsx)(Re.c,{onBlur:function(){n.statusText.length>30||t(n.statusText)},children:Object(v.jsxs)(Me,{children:[Object(v.jsx)(Re.b,{name:"statusText",validate:He,render:function(e){var t=e.field;return Object(v.jsx)(te.a,Object(U.a)(Object(U.a)({},t),{},{placeholder:"status",autoFocus:!0}))}}),Object(v.jsx)(Re.a,{name:"statusText",component:function(){return Object(v.jsxs)("div",{className:Le.a.fieldError,children:[" ",r.statusText," "]})}})]})})}})})),Be=n(134),Je=s.a.memo((function(e){var t=e.isOwner,n=Object(I.c)(ve),a=Object(I.c)(he),s=Object(I.b)(),o=Object(c.useState)(!1),i=Object(K.a)(o,2),u=i[0],l=i[1],d=Object(Be.a)(a,20,"Status"),j=d.fullText,b=d.menu,f=d.showFullText,p=d.isTextBig,O=d.setShowFullText,m=d.shortText,h=p?Object(v.jsx)(S.a,{overlay:b,placement:"topCenter",children:Object(v.jsx)("div",{className:ke.a.showMore,onClick:function(){O(!0)},children:"..."})}):null,x=a;return x=p?m:x?j:"no status",j=j||"no status",Object(v.jsxs)("div",{className:ke.a.status,children:[!u&&Object(v.jsxs)("div",{className:ke.a.test,onDoubleClick:function(){t||l(!0)},children:[Object(v.jsx)("div",{children:"status: "}),Object(v.jsx)("div",{className:ke.a.statusText,children:f?j:x}),Object(v.jsxs)("div",{children:[f||h," "]})]}),u&&Object(v.jsx)("div",{"data-test":"editMode",children:Object(v.jsx)(Ve,{deActivateEditMode:function(e){l(!1),s(function(e){return function(){var t=Object(k.a)(T.a.mark((function t(n){var a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(de(!0)),t.next=4,L.updateStatus(e);case 4:t.sent.resultCode===r.success&&n(le(e)),n(de(!1)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))}})}),n&&Object(v.jsx)("div",{children:Object(v.jsx)(we,{styles:"statusPre"})})]})})),Ge=n(188),ze=n.n(Ge),We=s.a.memo((function(e){var t=e.contactsTitle,n=e.contactsValue,r=e.Icon;return Object(v.jsx)("div",{children:n?Object(v.jsxs)("div",{className:ze.a.contact,children:[Object(v.jsxs)("span",{children:[t,":"]}),Object(v.jsxs)("a",{href:n,children:[" ",Object(v.jsx)(r,{className:ze.a.icon})]})]}):null})})),Ze=n(123),Ye=n.n(Ze),Qe=s.a.memo((function(e){for(var t=e.profile,n=Object(I.c)(ge),r=Object.keys(null===t||void 0===t?void 0:t.contacts).map((function(e){return Object(v.jsx)(We,{contactsTitle:e,Icon:n[e],contactsValue:null===t||void 0===t?void 0:t.contacts[e]},e)})),a=[],c=Object.values(null===t||void 0===t?void 0:t.contacts),s=0;s<c.length;s++)c[s]&&a.push(s);return Object(v.jsxs)("div",{className:Ye.a.contacts,children:[Object(v.jsx)("div",{className:Ye.a.contactsTitle,children:"contacts"}),Object(v.jsx)("div",{className:Ye.a.contactsValues,children:a.length?r:Object(v.jsx)("div",{className:Ye.a.noContacts,children:"no contacts"})})]})})),Xe=s.a.memo((function(){var e=Object(I.c)(me),t=Object(Ie.h)().userId;return Object(v.jsxs)("div",{className:Ce.a.profileData,children:[Object(v.jsxs)("div",{className:Ce.a.userNameAndStatus,children:[Object(v.jsx)("div",{className:Ce.a.userName,children:null===e||void 0===e?void 0:e.fullName}),Object(v.jsx)(Je,{isOwner:!!t}),Object(v.jsxs)("div",{className:Ce.a.aboutMe,children:[Object(v.jsx)("span",{children:"about me: "}),(null===e||void 0===e?void 0:e.aboutMe)||"....."]}),Object(v.jsxs)("div",{className:Ce.a.lookingForAJob,children:[Object(v.jsx)("span",{children:"looking for a Job: "}),(null===e||void 0===e?void 0:e.lookingForAJob)?"yes":"no"]}),Object(v.jsx)("div",{className:Ce.a.professionalSkills,children:(null===e||void 0===e?void 0:e.lookingForAJob)?Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:" my professional skills: "}),(null===e||void 0===e?void 0:e.lookingForAJobDescription)||"....."]}):null})]}),Object(v.jsx)("div",{className:Ce.a.contacts,children:Object(v.jsx)(Qe,{profile:e})})]})})),qe=n(67),Ke=n.n(qe),$e=n(114),et=n.n($e),tt=n(178),nt=n.n(tt),rt=n(433),at=Ue.a.Item,ct=Object(Ae.b)(30),st=s.a.memo((function(e){var t=e.deActivateEditMode,n=e.editMode,a=Object(I.c)(me),c=Object(I.b)(),s=Object(I.c)(_e),o=function(e){return Object.keys(a.contacts).map((function(t){return Object(v.jsxs)(at,{label:t,className:"".concat(Ke.a[t]," ").concat(Ke.a.contact),children:[Object(v.jsx)(Re.b,{name:"contacts.".concat(t),validate:ct,render:function(e){var n=e.field;return Object(v.jsx)(te.a,Object(U.a)(Object(U.a)({},n),{},{placeholder:t}))}}),Object(v.jsx)(Re.a,{name:"contacts.".concat(t),component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:e.contacts[t]})}})]},t)}))};return Object(v.jsx)(Re.d,{enableReinitialize:!0,initialValues:Object(U.a)({},a),validate:function(e){},onSubmit:function(e,t){setTimeout((function(){t.setSubmitting(!1)}),400)},children:function(e){e.isSubmitting;var a=e.values,i=e.errors,u=e.setErrors,l=e.resetForm,d=e.setSubmitting;return Object(v.jsx)(rt.a,{centered:!0,title:"Edit your profile",visible:n,onCancel:t,footer:[Object(v.jsx)(E.a,{htmlType:"submit",type:"primary",onClick:function(){c(function(e,t){return function(){var n=Object(k.a)(T.a.mark((function n(a,c){var s,o,i,u,l,d;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(fe("pending")),n.next=4,L.updateProfile(e);case 4:(s=n.sent).resultCode===r.success?(a(fe("ready")),(o=c().auth.id)&&a(pe(o))):(a(fe("error")),i=s.messages[s.messages.length-1],u=i.split("->")[1].split(")").join("").toLocaleLowerCase(),t({contacts:Object(ce.a)({},u,i)})),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),l=JSON.stringify(n.t0.message),d=l.slice(1,l.length-1),g.b.error(d);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,u)),"error"!==s&&"pending"!==s&&(l({}),t(),d(!1))},children:"save"}),Object(v.jsx)(E.a,{onClick:function(){t()},children:"cancel"})],children:Object(v.jsxs)(Re.c,{className:Ke.a.form,children:[Object(v.jsx)("div",{className:Ke.a.pre,children:"pending"===s&&Object(v.jsx)("div",{children:Object(v.jsx)(we,{styles:"updProfPre"})})}),Object(v.jsxs)(te.a.Group,{children:[Object(v.jsxs)(at,{className:Ke.a.formItem,label:"name",children:[Object(v.jsx)(Re.b,{name:"fullName",validate:Object(Ae.c)(20),render:function(e){var t=e.field;return Object(v.jsx)(te.a,Object(U.a)(Object(U.a)({},t),{},{placeholder:"fullName",autoFocus:!0}))}}),Object(v.jsx)(Re.a,{name:"fullName",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:i.fullName})}})]}),Object(v.jsxs)(at,{className:Ke.a.formItem,label:"about me",children:[Object(v.jsx)(Re.b,{name:"aboutMe",validate:Object(Ae.c)(50),render:function(e){var t=e.field;return Object(v.jsx)(nt.a,Object(U.a)(Object(U.a)({},t),{},{placeholder:"aboutMe"}))}}),Object(v.jsx)(Re.a,{name:"aboutMe",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:i.aboutMe})}})]}),Object(v.jsxs)(at,{className:Ke.a.formItem,children:[Object(v.jsx)(Re.b,{name:"lookingForAJob",render:function(e){var t=e.field;return Object(v.jsx)(et.a,Object(U.a)(Object(U.a)({},t),{},{checked:a.lookingForAJob,children:"looking for a job"}))}}),Object(v.jsx)(Re.a,{name:"lookingForAJob",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:i.lookingForAJob})}})]}),Object(v.jsxs)(at,{className:Ke.a.formItem,label:"my professional skills",children:[Object(v.jsx)(Re.b,{name:"lookingForAJobDescription",validate:Object(Ae.c)(40),render:function(e){var t=e.field;return Object(v.jsx)(nt.a,Object(U.a)(Object(U.a)({},t),{},{placeholder:"lookingForAJobDescription"}))}}),Object(v.jsx)(Re.a,{name:"lookingForAJobDescription",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:i.lookingForAJobDescription})}})]})]}),Object(v.jsxs)(at,{className:Ke.a.contacts,children:[Object(v.jsx)("div",{className:Ke.a.contactsHeader,children:"contacts"}),o(i)]})]})})}})})),ot=s.a.memo((function(){var e,t=Object(I.b)(),n=Object(I.c)(me),r=Object(I.c)(F.e),a=Object(Ie.g)(),s=Object(Ie.h)().userId,o=Object(c.useState)(!1),i=Object(K.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){var e=Number(s);e?(t(pe(e)),t(Oe(e))):r?(t(pe(r)),t(Oe(r))):a.push("/login")}),[t,r,s,a]),n?Object(v.jsxs)("div",{className:ee.a.aboutUser,children:[Object(v.jsx)(Pe,{isOwner:!!s,img:null===(e=n.photos)||void 0===e?void 0:e.large}),!u&&Object(v.jsx)(Xe,{}),u&&Object(v.jsx)(st,{deActivateEditMode:function(){l(!1)},editMode:u}),!s&&Object(v.jsx)("div",{className:ee.a.editIcon,onClick:function(){l(!0)},children:Object(v.jsx)(se.e,{})})]}):Object(v.jsx)(we,{styles:"profilePre"})})),it=n.p+"static/media/mainImg.0de69ef5.jpg",ut=s.a.memo((function(){return Object(v.jsxs)("div",{className:q.a.profilePage,children:[Object(v.jsx)("div",{className:q.a.mainImg,children:Object(v.jsx)("img",{src:it,alt:"mainImg"})}),Object(v.jsx)("div",{className:q.a.contentBottom,children:Object(v.jsx)(ot,{})})]})})),lt=n(94),dt=n.n(lt),jt=n(239),bt=n.n(jt),ft=s.a.memo((function(e){var t=e.img;return Object(v.jsx)("div",{className:bt.a.userPhoto,children:Object(v.jsx)("img",{src:t||ae.a,alt:"authorized user"})})})),pt=function(e){return e.sideBar.friends},Ot=n(163),mt=n.n(Ot),ht=n(109),vt=n.n(ht),xt=function(e){return e.users.users},_t=function(e){return e.users.isFetching},gt=function(e){return e.users.totalUsersCount},Nt=function(e){return e.users.pageNumber},Et=function(e){return e.users.pageSize},St=function(e){return e.users.filter},yt=function(e){return e.users.followInProgress},wt=n(76),Pt={getUsers:function(){var e=Object(k.a)(T.a.mark((function e(t,n,r){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("users?count=".concat(n,"\n        &page=").concat(t,"&term=").concat(r.term,"&friend=").concat(r.friend));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),follow:function(){var e=Object(k.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unFollow:function(){var e=Object(k.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},It={users:[],isFetching:!1,followInProgress:[],totalUsersCount:0,pageNumber:1,pageSize:10,filter:{term:"",friend:null}},Ft=function(e){return{type:"UR/USERS_RECEIVED",payload:{users:e}}},Ct=function(e){return{type:"UR/SET_IS_FETCHING",payload:{isFetching:e}}},Tt=function(e){return{type:"UR/FOLLOW_IS_FINISHED",payload:{userId:e}}},kt=function(e){return{type:"UR/UNFOLLOW_IS_FINISHED",payload:{userId:e}}},Ut=function(e){return{type:"UR/TOTAL_COUNT_IS_RECEIVED",payload:{totalUsersCount:e}}},Rt=function(e){return{type:"UR/SET_PAGE_NUMBER",payload:{pageNumber:e}}},At=function(e){return{type:"UR/SET_FILTER_DATA",payload:{filter:e}}},Dt=function(e,t){return{type:"UR/SET_FOLLOWING_PROGRESS",payload:{id:e,isFollowInProgress:t}}},Lt=function(e,t,n){return function(){var r=Object(k.a)(T.a.mark((function r(a){var c,s,o;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(At(n)),a(Ct(!0)),a(Rt(e)),r.next=6,Pt.getUsers(e,t,n);case 6:c=r.sent,a(Ct(!1)),a(Ft(c.items)),a(Ut(c.totalCount)),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(0),s=JSON.stringify(r.t0.message),o=s.slice(1,s.length-1),g.b.error(o);case 17:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()},Mt=function(e){return function(){var t=Object(k.a)(T.a.mark((function t(n){var a,c,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.unFollow(e);case 3:return(a=t.sent).resultCode===r.success&&(n(kt(e)),n(Dt(e,!1))),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),c=JSON.stringify(t.t0.message),s=c.slice(1,c.length-1),g.b.error(s);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ht={friends:[]},Vt=function(e){return{type:"SB/FRIENDS_RECEIVED",payload:{friends:e}}},Bt=function(){return function(){var e=Object(k.a)(T.a.mark((function e(t){var n,r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt.getUsers(20,3,{term:"",friend:!0});case 3:n=e.sent,t(Vt(n.items)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=JSON.stringify(e.t0.message),a=r.slice(1,r.length-1),g.b.error(a);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Jt=s.a.memo((function(e){var t=e.photos,n=e.id,r=e.name,a=Object(Be.a)(r,10,"Friend"),c=a.fullText,s=a.menu,o=a.showFullText,i=a.isTextBig,l=a.shortText,d=t.small,j=Object(I.c)(yt),b=Object(I.b)(),f=r;return f=i?l:c,Object(v.jsxs)("div",{className:vt.a.friend,children:[Object(v.jsxs)("div",{className:vt.a.imgAndName,children:[Object(v.jsx)("div",{className:vt.a.img,children:Object(v.jsx)(u.b,{to:"/profile/".concat(n),children:Object(v.jsx)("img",{src:d||ae.a,alt:"friendPhoto"})})}),Object(v.jsx)("div",{className:vt.a.nameLink,children:Object(v.jsxs)(u.b,{to:"/profile/".concat(n),children:[o?c:f,Object(v.jsx)("span",{className:vt.a.showMore,children:i?Object(v.jsx)(S.a,{overlay:s,placement:"topCenter",children:Object(v.jsx)("span",{children:"..."})}):null})]})})]}),Object(v.jsx)(E.a,{disabled:j.some((function(e){return e===n})),onClick:function(){b(function(e){return function(){var t=Object(k.a)(T.a.mark((function t(n){var r,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r=n(Mt(e)),Promise.all([r]).then((function(){n(Bt())}))}catch(s){a=JSON.stringify(s.message),c=a.slice(1,a.length-1),g.b.error(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),b(Dt(n,!0))},children:"delete"})]})})),Gt=s.a.memo((function(){var e=Object(I.c)(pt).map((function(e){return Object(v.jsx)(Jt,{photos:e.photos,name:e.name,id:e.id},e.id)}));return Object(v.jsxs)("div",{className:mt.a.SidBaFriends,children:[Object(v.jsx)("h2",{children:"friends"}),Object(v.jsx)("div",{className:mt.a.test,children:Object(v.jsx)("div",{className:mt.a.friends,children:e})})]})})),zt=function(){var e=Object(I.b)(),t=Object(I.c)(F.a);return Object(c.useEffect)((function(){e(W()),e(Bt())}),[e]),Object(v.jsxs)("div",{className:dt.a.sidebar,children:[Object(v.jsx)("div",{className:dt.a.sidebarTop}),Object(v.jsxs)("div",{className:dt.a.sidebarBottom,children:[Object(v.jsx)("div",{className:dt.a.userPhoto,children:Object(v.jsx)(u.b,{to:"/profile",children:Object(v.jsx)(ft,{img:null===t||void 0===t?void 0:t.photos.large})})}),Object(v.jsx)("div",{className:dt.a.userName,children:Object(v.jsx)(u.b,{to:"/profile",children:Object(v.jsx)("span",{children:null===t||void 0===t?void 0:t.fullName})})}),Object(v.jsx)("div",{children:Object(v.jsx)(Gt,{})}),Object(v.jsx)("div",{className:dt.a.viewP,children:Object(v.jsx)(u.b,{to:"/profile",children:"view profile"})})]})]})},Wt=n(240),Zt=n.n(Wt),Yt=n(431),Qt=n(241),Xt=n.n(Qt),qt=s.a.memo((function(e){var t=e.totalItemsCount,n=e.pageSize,r=void 0===n?10:n,a=e.onPageChangeHandler,c=e.pageNumber,s=t/r;return Object(v.jsx)("div",{className:Xt.a.paginator,children:Object(v.jsx)(Yt.a,{defaultCurrent:c,size:"small",current:c,total:10*s,onChange:function(e){a(e)}})})})),Kt=n(120),$t=n(164),en=n.n($t),tn=Kt.a.Option,nn=Ue.a.Item,rn=Object(Ae.b)(30),an=s.a.memo((function(e){var t=e.onFilterHandler,n=Object(I.c)(St);return Object(v.jsx)(Re.d,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:function(e){},onSubmit:function(e,n){setTimeout((function(){var r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),n.setSubmitting(!1)}),400)},children:function(e){var t=e.isSubmitting,n=e.values,r=e.setFieldValue,a=e.errors;return Object(v.jsxs)(Re.c,{className:en.a.form,children:[Object(v.jsxs)(nn,{children:[Object(v.jsx)(Re.b,{name:"term",validate:rn,render:function(e){var t=e.field;return Object(v.jsx)(te.a,Object(U.a)(Object(U.a)({},t),{},{placeholder:"userName",autoFocus:!0}))}}),Object(v.jsx)(Re.a,{name:"term",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:a.term})}})]}),Object(v.jsx)(nn,{children:Object(v.jsx)(Re.b,{name:"friend",placeholder:"HELLO",render:function(e){var t=e.field;return Object(v.jsxs)(Kt.a,Object(U.a)(Object(U.a)({className:en.a.select},t),{},{onChange:function(e){return r("friend",e)},value:n.friend,children:[Object(v.jsx)(tn,{value:"null",children:"all"}),Object(v.jsx)(tn,{value:"true",children:"follow"}),Object(v.jsx)(tn,{value:"false",children:"unFollow"})]}))}})}),Object(v.jsx)(E.a,{className:en.a.SendButton,type:"primary",htmlType:"submit",disabled:t,children:"find"})]})}})})),cn=n(57),sn=n.n(cn),on=s.a.memo((function(e){var t,n=e.id,a=e.userName,c=e.status,s=e.photos,o=e.followed,i=e.followingInProgress,l=e.isAuth,d=Object(I.b)(),j=s.large;return t=o?Object(v.jsx)("div",{className:sn.a.button+" "+sn.a.follow,children:Object(v.jsx)(E.a,{disabled:i.some((function(e){return e===n})),onClick:function(){d(Mt(n)),d(Dt(n,!0))},children:"follow"})}):Object(v.jsx)("div",{className:sn.a.button+" "+sn.a.unFollow,children:Object(v.jsx)(E.a,{disabled:i.some((function(e){return e===n})),onClick:function(){var e;d((e=n,function(){var t=Object(k.a)(T.a.mark((function t(n){var a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.follow(e);case 3:t.sent.resultCode===r.success&&(n(Tt(e)),n(Dt(e,!1))),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a=JSON.stringify(t.t0.message),c=a.slice(1,a.length-1),g.b.error(c);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),d(Dt(n,!0))},children:"unFollow"})}),Object(v.jsxs)("div",{className:sn.a.user,children:[Object(v.jsxs)("div",{className:sn.a.userInfo,children:[Object(v.jsxs)("div",{className:sn.a.rightBlock,children:[Object(v.jsx)("div",{className:sn.a.img,children:Object(v.jsx)(u.b,{to:"/profile/".concat(n),children:Object(v.jsx)("img",{src:j||ae.a,alt:"userPhoto"})})}),l?t:null]}),Object(v.jsxs)("div",{className:sn.a.leftBlock,children:[Object(v.jsx)("div",{className:sn.a.userName,children:Object(v.jsx)(u.b,{to:"/profile/".concat(n),children:Object(v.jsxs)("span",{children:[" ",a]})})}),Object(v.jsxs)("div",{className:sn.a.status,children:["status: ",c||"...."]})]})]}),Object(v.jsx)("div",{className:sn.a.bottomLine})]})})),un=n(124),ln=n.n(un),dn=n(189),jn=n.n(dn),bn=s.a.memo((function(){var e=Object(I.b)(),t=Object(Ie.g)(),n=Object(I.c)(F.d),r=Object(I.c)(xt),a=Object(I.c)(_t),s=Object(I.c)(gt),o=Object(I.c)(Et),i=Object(I.c)(Nt),u=Object(I.c)(St),l=Object(I.c)(yt);Object(c.useEffect)((function(){var n=jn.a.parse(t.location.search),r=i,a=u;n.page&&(r=Number(n.page)),n.term&&""!==n.term&&(a=Object(U.a)(Object(U.a)({},a),{},{term:n.term})),n.friend&&(a=Object(U.a)(Object(U.a)({},a),{},{friend:"true"===n.friend})),e(Lt(r,o,a))}),[]),Object(c.useEffect)((function(){var e={};1!==i&&(e.page=String(i)),""!==u.term&&(e.term=u.term),null!==u.friend&&(e.friend=String(u.friend)),t.push({pathname:"/users",search:jn.a.stringify(e)})}),[u,i,t]);var d=r.map((function(e){return Object(v.jsx)(on,{isAuth:n,followingInProgress:l,id:e.id,userName:e.name,photos:e.photos,status:e.status,followed:e.followed},e.id)}));return Object(v.jsxs)("div",{className:ln.a.usersPage,children:[Object(v.jsxs)("div",{className:ln.a.userPageTopBlock,children:[Object(v.jsx)("div",{className:ln.a.usersHeader,children:"Users"}),Object(v.jsx)("div",{children:a&&Object(v.jsx)(we,{styles:"usersPre"})})]}),Object(v.jsx)("div",{children:Object(v.jsx)(an,{onFilterHandler:function(t){e(Lt(1,o,t))}})}),Object(v.jsx)("div",{children:Object(v.jsx)(qt,{pageSize:o,pageNumber:i,onPageChangeHandler:function(t){e(Lt(t,o,u))},totalItemsCount:s})}),0===d.length?Object(v.jsx)("div",{className:ln.a.notFound,children:"not Found"}):d]})})),fn=n(190),pn=n.n(fn),On=n(125),mn=n.n(On),hn=Ue.a.Item,vn=s.a.memo((function(){var e=Object(I.b)(),t=Object(I.c)(F.b),n=Object(I.c)(F.c);return Object(v.jsx)(Re.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:""},validate:function(e){},onSubmit:function(t,n){setTimeout((function(){var c=t.email,s=t.password,o=t.rememberMe,i=t.captcha;e(function(e,t,n,c){return function(){var s=Object(k.a)(T.a.mark((function s(o){var i,u,l;return T.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,D.login(e,t,n,c);case 3:(i=s.sent).resultCode===r.success?(o(z()),o(J(null)),o(G(null))):i.resultCode===a.captcha?(o(G(i.messages[0])),o(Z())):o(G(i.messages[0])),s.next=12;break;case 7:s.prev=7,s.t0=s.catch(0),u=JSON.stringify(s.t0.message),l=u.slice(1,u.length-1),g.b.error(l);case 12:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}(c,s,o,i)),n.setSubmitting(!1)}),400)},children:function(e){var r=e.isSubmitting,a=e.values,c=e.errors;return Object(v.jsxs)(Re.c,{className:mn.a.form,children:[Object(v.jsxs)(hn,{label:"email",children:[Object(v.jsx)(Re.b,{name:"email",validate:Ae.a,render:function(e){var t=e.field;return Object(v.jsx)(te.a,Object(U.a)(Object(U.a)({},t),{},{type:"email",placeholder:"email"}))}}),Object(v.jsx)(Re.a,{name:"email",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:c.email})}})]}),Object(v.jsxs)(hn,{label:"password",children:[Object(v.jsx)(Re.b,{name:"password",validate:Object(Ae.c)(40),render:function(e){var t=e.field;return Object(v.jsx)(te.a.Password,Object(U.a)(Object(U.a)({},t),{},{type:"password",placeholder:"password"}))}}),Object(v.jsx)(Re.a,{name:"password",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:c.password})}})]}),Object(v.jsx)(hn,{children:Object(v.jsx)(Re.b,{name:"rememberMe",render:function(e){var t=e.field;return Object(v.jsx)(et.a,Object(U.a)(Object(U.a)({},t),{},{checked:a.rememberMe,children:"rememberMe"}))}})}),n&&Object(v.jsx)("div",{className:Le.a.formError,children:n}),t&&Object(v.jsxs)("div",{className:mn.a.captcha,children:[Object(v.jsx)("div",{className:mn.a.captchaImg,children:Object(v.jsx)(Ne.a,{src:t})}),Object(v.jsxs)(hn,{label:"captcha",children:[Object(v.jsx)(Re.b,{name:"captcha",validate:Object(Ae.c)(20),render:function(e){var t=e.field;return Object(v.jsx)(te.a,Object(U.a)(Object(U.a)({},t),{},{placeholder:"captcha",autoFocus:!0}))}}),Object(v.jsx)(Re.a,{name:"captcha",component:function(){return Object(v.jsx)("div",{className:Le.a.fieldError,children:c.captcha})}})]})]}),Object(v.jsx)(E.a,{className:mn.a.SendButton,type:"primary",htmlType:"submit",disabled:r,children:"login"})]})}})})),xn=s.a.memo((function(){return Object(I.c)(F.d)?Object(v.jsx)(Ie.a,{to:"/profile"}):Object(v.jsxs)("div",{className:pn.a.loginPage,children:[Object(v.jsx)("div",{className:pn.a.loginHeader,children:"login"}),Object(v.jsx)("div",{children:Object(v.jsx)(vn,{})})]})})),_n=n(243),gn=n.n(_n),Nn=s.a.memo((function(){return Object(v.jsx)("div",{className:gn.a.notFound,children:"NOT FOUND"})})),En=s.a.lazy((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,446))})),Sn=s.a.memo((function(){var e=Object(I.c)(F.d);return Object(v.jsxs)("div",{className:Zt.a.main,children:[e&&Object(v.jsx)(zt,{}),Object(v.jsx)("div",{className:"commonContentStyle ".concat(e?"":"authorized"),children:Object(v.jsx)("div",{children:Object(v.jsxs)(Ie.d,{children:[Object(v.jsx)(Ie.b,{path:"/profile/:userId?",render:function(e){return Object(v.jsx)(ut,{})}}),Object(v.jsx)(Ie.b,{path:"/users",children:Object(v.jsx)(bn,{})}),Object(v.jsx)(Ie.b,{path:"/login",children:Object(v.jsx)(xn,{})}),Object(v.jsx)(Ie.b,{exact:!0,path:"/",render:function(){return Object(v.jsx)(Ie.a,{to:"/profile"})}}),Object(v.jsx)(Ie.b,{path:"*",children:Object(v.jsx)(Nn,{})})]})})}),Object(v.jsx)("div",{children:e&&Object(v.jsx)(c.Suspense,{fallback:Object(v.jsx)("div",{children:"loading..."}),children:Object(v.jsx)(En,{})})})]})})),yn=n(126),wn=n(244),Pn={isAuthorizeFinished:!1},In=function(e){return{type:"AP/AUTHORIZE_IS_FINISHED",payload:{isAuthorizeFinished:e}}},Fn=n(191),Cn=Object(yn.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PR/STATUS_RECEIVED":case"PR/SET_IS_FETCHING":case"PR/PHOTOS_IS_LOADED":case"PR/SET_UPDATE_PROFILE_STATUS":return Object(U.a)(Object(U.a)({},e),t.payload);case"PR/PHOTOS_RECEIVED":return Object(U.a)(Object(U.a)({},e),{},{profile:Object(U.a)(Object(U.a)({},e.profile),{},{photos:t.payload.photos})});case"PR/PROFILE_RECEIVED":return Object(U.a)(Object(U.a)({},e),{},{profile:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AU/AUTH_VERIFIED":case"AU/AUTH_USER_RECEIVED":case"AU/CAPTCHA_URL_IS_RECEIVED":case"AU/AN_ERROR_HAS_OCCURRED":return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},users:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"UR/USERS_RECEIVED":return Object(U.a)(Object(U.a)({},n),{},{users:r.payload.users});case"UR/FOLLOW_IS_FINISHED":return Object(U.a)(Object(U.a)({},n),{},{users:Object(wt.a)(null===(e=n.users)||void 0===e?void 0:e.map((function(e){return e.id===r.payload.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!0}):e})))});case"UR/UNFOLLOW_IS_FINISHED":return Object(U.a)(Object(U.a)({},n),{},{users:Object(wt.a)(null===(t=n.users)||void 0===t?void 0:t.map((function(e){return e.id===r.payload.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!1}):e})))});case"UR/SET_PAGE_NUMBER":return Object(U.a)(Object(U.a)({},n),{},{pageNumber:r.payload.pageNumber});case"UR/SET_FILTER_DATA":return Object(U.a)(Object(U.a)({},n),{},{filter:r.payload.filter});case"UR/SET_FOLLOWING_PROGRESS":return Object(U.a)(Object(U.a)({},n),{},{followInProgress:r.payload.isFollowInProgress?[].concat(Object(wt.a)(n.followInProgress),[r.payload.id]):n.followInProgress.filter((function(e){return e!==r.payload.id}))});case"UR/SET_IS_FETCHING":case"UR/TOTAL_COUNT_IS_RECEIVED":return Object(U.a)(Object(U.a)({},n),r.payload);default:return n}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AP/AUTHORIZE_IS_FINISHED":return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},chat:Fn.a,sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SB/FRIENDS_RECEIVED":return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}}}),Tn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yn.c,kn=Object(yn.d)(Cn,Tn(Object(yn.a)(wn.a)));window._store=kn;var Un=kn,Rn=function(e){return e.app.isAuthorizeFinished};function An(){var e=Object(I.b)(),t=Object(I.c)(Rn);return Object(c.useEffect)((function(){e(function(){var e=Object(k.a)(T.a.mark((function e(t){var n,r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t(z()),Promise.all([n]).then((function(){t(In(!0))}))}catch(c){r=JSON.stringify(c.message),a=r.slice(1,r.length-1),g.b.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(Q,{}),Object(v.jsx)(Sn,{}),Object(v.jsx)("div",{className:"footer",children:"this site was created by David Gasparian"})]}):Object(v.jsx)(we,{styles:"appPre"})}document.body.style.backgroundColor="#F3F2EF";var Dn=function(){return Object(v.jsx)(u.a,{children:Object(v.jsx)(I.a,{store:Un,children:Object(v.jsx)(An,{})})})},Ln=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,445)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(Dn,{})}),document.getElementById("root")),Ln()},47:function(e,t,n){e.exports={fieldError:"formsControl_fieldError__2W8lW",formError:"formsControl_formError__1ienr"}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=function(e){var t;return t=(t=s(40)(e))||c(e),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t=t||"Invalid email address"),t},a=function(e){return function(t){return s(e)(t)||c(t)}},c=function(e){var t;return e||(t="filed is required"),t},s=function(e){return function(t){var n;return t&&t.length>e&&(n="Max length is ".concat(e)),n}}},57:function(e,t,n){e.exports={user:"User_user__1m8QG",userInfo:"User_userInfo__psQg3",rightBlock:"User_rightBlock__iRdgz",button:"User_button__1hc_-",leftBlock:"User_leftBlock__3WWr7",status:"User_status__2w2lD",userName:"User_userName__3dUmi",bottomLine:"User_bottomLine__3sa7o"}},67:function(e,t,n){e.exports={form:"ProfileDataForm_form__1FYMM",pre:"ProfileDataForm_pre__2O8rg",formItem:"ProfileDataForm_formItem__23klk",contacts:"ProfileDataForm_contacts__1uNUy",contactsHeader:"ProfileDataForm_contactsHeader__37Njc",contact:"ProfileDataForm_contact__2AOVd",SendButton:"ProfileDataForm_SendButton__2uSCV",closeIcon:"ProfileDataForm_closeIcon__19z6Z"}},71:function(e,t,n){"use strict";t.a=n.p+"static/media/img.4e5df239.jpg"},89:function(e,t,n){e.exports={profileData:"ProfileData_profileData__3wzJC",userNameAndStatus:"ProfileData_userNameAndStatus__1_-SB",userName:"ProfileData_userName__2tGwV",aboutMe:"ProfileData_aboutMe__2PHeA"}},94:function(e,t,n){e.exports={sidebar:"SideBar_sidebar__3dulD",sidebarBottom:"SideBar_sidebarBottom__vxHE7",userPhoto:"SideBar_userPhoto__tSYGM",userName:"SideBar_userName__pnHuT",viewP:"SideBar_viewP__3zbLI",sidebarTop:"SideBar_sidebarTop__LRdFP"}}},[[426,1,2]]]);
//# sourceMappingURL=main.b1c2f38f.chunk.js.map